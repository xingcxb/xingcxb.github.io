(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{537:function(a,s,t){"use strict";t.r(s);var e=t(0),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"🪽-benchmark-库简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🪽-benchmark-库简介"}},[a._v("#")]),a._v(" 🪽 "),s("code",[a._v("benchmark")]),a._v(" 库简介")]),a._v(" "),s("p",[a._v("一个用 "),s("code",[a._v("golang")]),a._v(" 实现的简单基准测试工具，具有一些小功能。最近因为要适配边缘设备，导致整个程序的包要压缩到 "),s("code",[a._v("5M")]),a._v(" 内，目前写的差不多了，就是特么的指纹浏览器在 "),s("code",[a._v("socks5")]),a._v(" 上面不标准，导致我在这里卡了 "),s("code",[a._v("2")]),a._v(" 天，于是想换换脑子，就给程序做个压力测试，谷歌一搜推荐的都是 "),s("code",[a._v("google/benchmark")]),a._v(" 这个，简单看看没有 "),s("code",[a._v("socks5")]),a._v(" 的压力测试，所以索性放弃了。后面再找的时候找到了 "),s("code",[a._v("cnlh/benchmark")]),a._v(" 这个库，开始用的时候也是懵的，索莫斯")]),a._v(" "),s("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),a._v(" "),s("h2",{attrs:{id:"开源地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开源地址"}},[a._v("#")]),a._v(" 开源地址")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/cnlh/benchmark",target:"_blank",rel:"noopener noreferrer"}},[a._v("cnlh/benchmark"),s("OutboundLink")],1)]),a._v(" "),s("h2",{attrs:{id:"快速上手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[a._v("#")]),a._v(" 快速上手")]),a._v(" "),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("p",[a._v("在"),s("a",{attrs:{href:"https://github.com/cnlh/benchmark/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("cnlh/benchmark"),s("OutboundLink")],1),a._v(" 上找到对应的系统下载下来，然后将二进制文件复制到 "),s("code",[a._v("/usr/local/go/bin")]),a._v(" 目录下，然后就可以在终端中使用 "),s("code",[a._v("benchmark")]),a._v(" 命令了。")]),a._v(" "),s("h3",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),s("h4",{attrs:{id:"命令参数说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令参数说明"}},[a._v("#")]),a._v(" 命令参数说明")]),a._v(" "),s("div",{staticClass:"language-shell script line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" string\n      \t请求正文\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" int\n      \t连接数 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("default "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-cpu")]),a._v(" int\n      \t使用的CPU数量\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" string\n      \t请求头，分割按 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("r"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("n\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-host")]),a._v(" string\n      \t请求地址\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" string\n      \t请求方式 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("default "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"GET"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" int\n      \t请求数量 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("default "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" int\n      \thttp/socks5 超时时间（以毫秒为单位） "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("default "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-proxy")]),a._v(" string\n    \t代理请求\n    -proxy-transport string\n        请求的代理传输, "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"tcp"')]),a._v(" or "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"quic"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("default "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"tcp"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    -quic-protocol string\n        quic传输的tls应用协议 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("default "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"h3"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br")])]),s("h4",{attrs:{id:"官方-demo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#官方-demo"}},[a._v("#")]),a._v(" 官方 "),s("code",[a._v("demo")])]),a._v(" "),s("div",{staticClass:"language-shell script line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("benchmark "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1100")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000000")]),a._v("  http://127.0.0.1/\nbenchmark "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1100")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-proxy")]),a._v(" http://111:222@127.0.0.1:1235 http://127.0.0.1/\nbenchmark "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1100")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-proxy")]),a._v(" socks5://111:222@127.0.0.1:1235 http://127.0.0.1/\nbenchmark "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1100")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Connection: close'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[a._v("\\r")]),s("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[a._v("\\n")]),a._v('Cache-Control: no-cache"')]),a._v(" http://127.0.0.1/\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("h3",{attrs:{id:"实战"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实战"}},[a._v("#")]),a._v(" 实战")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("benchmark "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1000000")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-proxy")]),a._v(" http://username:password@1.1.1.1:56790 https://xingcxb.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])],1)}),[],!1,null,null,null);s.default=r.exports}}]);