(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{571:function(s,e,a){"use strict";a.r(e);var r=a(0),t=Object(r.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),e("p",[s._v("使用"),e("code",[s._v("redis")]),s._v("中遇到的奇葩问题，本文持续更新")]),s._v(" "),e("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),s._v(" "),e("h2",{attrs:{id:"安装-redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-redis"}},[s._v("#")]),s._v(" 安装 "),e("code",[s._v("redis")])]),s._v(" "),e("h3",{attrs:{id:"压缩包安装-redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#压缩包安装-redis"}},[s._v("#")]),s._v(" 压缩包安装 "),e("code",[s._v("redis")])]),s._v(" "),e("blockquote",[e("p",[s._v("本次以 "),e("code",[s._v("7.2.2")]),s._v(" 版本为例")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("先安装基础组件")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" gcc tcl\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("在官网下载"),e("code",[s._v("tar.gz")]),s._v("的安装包，或者通过"),e("code",[s._v("wget")]),s._v("的方式下载")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/redis/redis/archive/7.2.2.tar.gz\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.2")]),s._v(".2.tar.gz redis-7.2.2.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("解压")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-zxvf")]),s._v(" redis-7.2.2.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("编译，通过"),e("code",[s._v("make")]),s._v("来编译，"),e("code",[s._v("make")]),s._v("是自动编译，会根据"),e("code",[s._v("Makefile")]),s._v("中描述的内容来进行编译。")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" redis-7.2.2\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("默认安装路径是在 "),e("code",[s._v("/usr/local/bin")]),s._v(" 目录下")])])]),s._v(" "),e("li",[e("p",[s._v("启动服务器，来看看安装是否成功。")])])]),s._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),e("p",[s._v("建议将 "),e("code",[s._v("redis")]),s._v(" 源码中的 "),e("code",[s._v("redis.conf")]),s._v(" 复制一份到 "),e("code",[s._v("/etc/redis/")]),s._v(" 目录下，使用 "),e("code",[s._v("redis-server /etc/redis/redis.conf")]),s._v(" 来进行启动")])]),s._v(" "),e("h4",{attrs:{id:"基础命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基础命令"}},[s._v("#")]),s._v(" 基础命令")]),s._v(" "),e("h5",{attrs:{id:"启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),e("p",[s._v("直接使用 "),e("code",[s._v("redis-server")]),s._v(" 启动时，是不携带配置文件的裸跑状态")])]),s._v(" "),e("ol",[e("li",[s._v("前台启动：在任何目录下执行 "),e("code",[s._v("redis-server")])]),s._v(" "),e("li",[s._v("后台启动：在任何目录下执行 "),e("code",[s._v("redis-server &")])]),s._v(" "),e("li",[s._v("启动 redis 服务时，指定配置文件："),e("code",[s._v("redis-server redis.conf &")]),s._v(" ，这种主要用于你改了配置文件的情况，比如你把默认端口号改了，你就用这个，正常也用这个")])]),s._v(" "),e("h4",{attrs:{id:"修改配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改配置"}},[s._v("#")]),s._v(" 修改配置")]),s._v(" "),e("h5",{attrs:{id:"修改密码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改密码"}},[s._v("#")]),s._v(" 修改密码")]),s._v(" "),e("blockquote",[e("p",[s._v("上面使用的是手动安装的，所以配置文件的位置在 "),e("code",[s._v("redis-7.2.2/redis.conf")])])]),s._v(" "),e("p",[s._v("找到 "),e("code",[s._v("redis")]),s._v(" 的配置文件搜索文件中的 "),e("code",[s._v("# requirepass foobared")]),s._v(" 取消注释，并将后面的 "),e("code",[s._v("foobared")]),s._v(" 替换为自己的密码")]),s._v(" "),e("h3",{attrs:{id:"brew-安装-redis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#brew-安装-redis"}},[s._v("#")]),s._v(" "),e("code",[s._v("brew")]),s._v(" 安装 "),e("code",[s._v("redis")])]),s._v(" "),e("ul",[e("li",[e("code",[s._v("brew install redis")])])]),s._v(" "),e("blockquote",[e("p",[s._v("在新版的 "),e("code",[s._v("brew")]),s._v(" 的时候安装的软件路径变为了 "),e("code",[s._v("/opt/homebrew/Cellar")]),s._v(" 目录下")])]),s._v(" "),e("ul",[e("li",[s._v("添加开机启动项")])]),s._v(" "),e("blockquote",[e("p",[s._v("cp /opt/homebrew/Cellar/redis/7.0.11/homebrew.mxcl.redis.plist /Users/symbol/Library/LaunchAgents/\n替换 "),e("code",[s._v("symbol")]),s._v(" 为你的 "),e("code",[s._v("Mac")]),s._v(" 的用户名")])]),s._v(" "),e("ul",[e("li",[s._v("修改密码")])]),s._v(" "),e("blockquote",[e("p",[s._v("通常情况下在 "),e("code",[s._v("/opt/homebrew/etc/redis.conf")]),s._v(" 下\n如果位置不对的话，那么找到 "),e("code",[s._v("homebrew")]),s._v(" 下 "),e("code",[s._v("redis")]),s._v(" 的配置文件信息，路径在 "),e("code",[s._v("/opt/homebrew/Cellar/redis/7.2.4/homebrew.mxcl.redis.plist")])])]),s._v(" "),e("h2",{attrs:{id:"经验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#经验"}},[s._v("#")]),s._v(" 经验")]),s._v(" "),e("h3",{attrs:{id:"查看-redis-服务端版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看-redis-服务端版本"}},[s._v("#")]),s._v(" 查看 "),e("code",[s._v("redis")]),s._v(" 服务端版本")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("redis-server "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或")]),s._v("\nredis-server "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"redis-服务端版本详细说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis-服务端版本详细说明"}},[s._v("#")]),s._v(" "),e("code",[s._v("redis")]),s._v(" 服务端版本详细说明")]),s._v(" "),e("p",[e("code",[s._v("Redis server v=7.2.2 sha=00000000:0 malloc=jemalloc-5.3.0 bits=64 build=a37461fb2057967a")])]),s._v(" "),e("ul",[e("li",[e("code",[s._v("v=7.2.2")]),s._v(" - "),e("code",[s._v("Redis")]),s._v(" 服务端的版本号，这里是"),e("code",[s._v("7.2.2")]),s._v("版本")]),s._v(" "),e("li",[e("code",[s._v("sha=00000000:0")]),s._v(" - "),e("code",[s._v("Git SHA")]),s._v(" 标识，用来标识 "),e("code",[s._v("Git")]),s._v(" 中的某个提交")]),s._v(" "),e("li",[e("code",[s._v("malloc=jemalloc-5.3.0")]),s._v(" - "),e("code",[s._v("Redis")]),s._v(" 使用的内存分配器，这里是 "),e("code",[s._v("jemalloc 5.3.0")]),s._v(" 版本")]),s._v(" "),e("li",[e("code",[s._v("bits=64")]),s._v(" - "),e("code",[s._v("Redis")]),s._v(" 编译时使用的位数，这里是 "),e("code",[s._v("64")]),s._v(" 位")]),s._v(" "),e("li",[e("code",[s._v("build=a37461fb2057967a")]),s._v(" - "),e("code",[s._v("Redis")]),s._v(" 的构建 "),e("code",[s._v("ID")])])]),s._v(" "),e("h3",{attrs:{id:"使用-info-查看服务端版本信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-info-查看服务端版本信息"}},[s._v("#")]),s._v(" 使用 "),e("code",[s._v("info")]),s._v(" 查看服务端版本信息")]),s._v(" "),e("blockquote",[e("p",[s._v("使用 "),e("code",[s._v("redis-cli")]),s._v(" 命令行客户端连接到 "),e("code",[s._v("Redis")]),s._v(" 服务，输入 "),e("code",[s._v("info server")]),s._v(" 即可查看 "),e("code",[s._v("Redis")]),s._v(" 服务详细信息。")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("info server\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"info-数据详解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#info-数据详解"}},[s._v("#")]),s._v(" "),e("code",[s._v("info")]),s._v(" 数据详解")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Server")]),s._v("\nredis_version:7.2.2\nredis_git_sha1:00000000\nredis_git_dirty:0\nredis_build_id:a37461fb2057967a\nredis_mode:standalone\nos:Linux "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.10")]),s._v(".0-957.21.3.el7.x86_64 x86_64\narch_bits:64\nmonotonic_clock:POSIX clock_gettime\nmultiplexing_api:epoll\natomicvar_api:atomic-builtin\ngcc_version:4.8.5\nprocess_id:54140\nprocess_supervised:no\nrun_id:549878e500079affeddfa0298bcedfe5594f47a8\ntcp_port:6379\nserver_time_usec:1697687545567270\nuptime_in_seconds:9\nuptime_in_days:0\nhz:10\nconfigured_hz:10\nlru_clock:3188729\nexecutable:/root/redis-7.2.2/redis-server\nconfig_file:\nio_threads_active:0\nlistener0:name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp,bind"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("*,bind"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("-::*,port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br")])]),e("ul",[e("li",[e("code",[s._v("redis_version")]),s._v("："),e("code",[s._v("Redis")]),s._v(" 版本，这里是 "),e("code",[s._v("7.2.2")])]),s._v(" "),e("li",[e("code",[s._v("redis_git_sha1")]),s._v("："),e("code",[s._v("Git SHA")]),s._v("，这里是 "),e("code",[s._v("00000000")]),s._v("，表示这不是一个 "),e("code",[s._v("Git")]),s._v(" 版本")]),s._v(" "),e("li",[e("code",[s._v("redis_build_id")]),s._v("：构建 "),e("code",[s._v("ID")]),s._v("，这里是 "),e("code",[s._v("a37461fb2057967a")])]),s._v(" "),e("li",[e("code",[s._v("os")]),s._v("："),e("code",[s._v("Redis")]),s._v(" 运行的操作系统，这里是 "),e("code",[s._v("Linux")])]),s._v(" "),e("li",[e("code",[s._v("arch_bits")]),s._v("：架构（"),e("code",[s._v("32")]),s._v(" 或 "),e("code",[s._v("64")]),s._v(" 位），这里是 "),e("code",[s._v("64")]),s._v(" 位")]),s._v(" "),e("li",[e("code",[s._v("gcc_version")]),s._v("：编译 "),e("code",[s._v("Redis")]),s._v(" 时使用的 "),e("code",[s._v("GCC")]),s._v(" 版本，这里是 "),e("code",[s._v("4.8.5")])]),s._v(" "),e("li",[e("code",[s._v("process_id")]),s._v("："),e("code",[s._v("Redis")]),s._v(" 进程 "),e("code",[s._v("ID")]),s._v("，这里是 "),e("code",[s._v("54140")])]),s._v(" "),e("li",[e("code",[s._v("tcp_port")]),s._v("："),e("code",[s._v("Redis")]),s._v(" 正在监听的 "),e("code",[s._v("TCP")]),s._v(" 端口，这里是默认的 "),e("code",[s._v("6379")])]),s._v(" "),e("li",[e("code",[s._v("uptime_in_seconds")]),s._v("："),e("code",[s._v("Redis")]),s._v(" 运行时间（秒），这里是 "),e("code",[s._v("9")]),s._v(" 秒")]),s._v(" "),e("li",[e("code",[s._v("hz")]),s._v("："),e("code",[s._v("Redis")]),s._v(" 服务器的频率，这里是 "),e("code",[s._v("10Hz")])]),s._v(" "),e("li",[e("code",[s._v("lru_clock")]),s._v("：用于 "),e("code",[s._v("LRU")]),s._v(" (最近最少使用)算法的时钟周期，这里是 "),e("code",[s._v("3188729")])]),s._v(" "),e("li",[e("code",[s._v("config_file")]),s._v("："),e("code",[s._v("Redis")]),s._v(" 配置文件的路径")]),s._v(" "),e("li",[e("code",[s._v("io_threads_active")]),s._v("：活动 "),e("code",[s._v("I/O")]),s._v(" 线程的数量，这里是 "),e("code",[s._v("0")])])]),s._v(" "),e("h3",{attrs:{id:"查看-redis-客户端版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看-redis-客户端版本"}},[s._v("#")]),s._v(" 查看 "),e("code",[s._v("redis")]),s._v(" 客户端版本")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("redis-cli "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或")]),s._v("\nredis-cli "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"redis-客户端版本详细说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis-客户端版本详细说明"}},[s._v("#")]),s._v(" "),e("code",[s._v("redis")]),s._v(" 客户端版本详细说明")]),s._v(" "),e("p",[e("code",[s._v("redis-cli 7.2.2")])]),s._v(" "),e("ul",[e("li",[e("code",[s._v("7.2.2")]),s._v(" - "),e("code",[s._v("Redis")]),s._v(" 客户端的版本号，这里是"),e("code",[s._v("7.2.2")]),s._v("版本")])]),s._v(" "),e("h3",{attrs:{id:"命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[s._v("#")]),s._v(" 命令")]),s._v(" "),e("h4",{attrs:{id:"如何删除-redis-中的所有-key"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何删除-redis-中的所有-key"}},[s._v("#")]),s._v(" 如何删除 "),e("code",[s._v("redis")]),s._v(" 中的所有 "),e("code",[s._v("key")])]),s._v(" "),e("p",[s._v("直接在命令行中执行 "),e("code",[s._v("redis-cli flushall")]),s._v(" 即可删除所有 "),e("code",[s._v("key")])]),s._v(" "),e("h2",{attrs:{id:"错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误"}},[s._v("#")]),s._v(" 错误")]),s._v(" "),e("h3",{attrs:{id:"misconf-redis-is-configured-to-save-rdb-snapshots-but-is-currently-not-able-to-persist-on"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#misconf-redis-is-configured-to-save-rdb-snapshots-but-is-currently-not-able-to-persist-on"}},[s._v("#")]),s._v(" "),e("code",[s._v("MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on")])]),s._v(" "),e("h4",{attrs:{id:"翻译"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#翻译"}},[s._v("#")]),s._v(" 翻译")]),s._v(" "),e("p",[e("code",[s._v("Redis")]),s._v("被配置为保存数据库快照，但它目前不能持久化到硬盘。用来修改集合数据的命令不能用。请查看 Redis 日志的详细错误信息。")]),s._v(" "),e("h4",{attrs:{id:"解决方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[s._v("#")]),s._v(" 解决方案")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysctl.conf\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 添加一个配置")]),s._v("\nvm.overcommit_memory "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 保存后然后重启")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"提示-warning-using-a-password-with-a-or-u-option-on-the-command-line-interface-may-not-be-safe"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#提示-warning-using-a-password-with-a-or-u-option-on-the-command-line-interface-may-not-be-safe"}},[s._v("#")]),s._v(" 提示 "),e("code",[s._v("Warning: Using a password with '-a' or '-u' option on the command line interface may not be safe.")])]),s._v(" "),e("p",[s._v("这是因为在 "),e("code",[s._v("Unix/Linux")]),s._v(" 系统中，运行的命令通常可以在系统的进程列表中看到，这意味着如果在命令行中直接输入密码，那么任何有权限查看进程列表的用户都可能看到密码。此外，命令行历史记录也可能会保存输入的密码")]),s._v(" "),e("p",[s._v("建议使用下面方案处理：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" redis-cli\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" auth xxx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])],1)}),[],!1,null,null,null);e.default=t.exports}}]);