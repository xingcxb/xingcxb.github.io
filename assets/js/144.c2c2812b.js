(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{547:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("Wails")]),s._v("开发中的经验，本文持续更新")]),s._v(" "),t("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),s._v(" "),t("h2",{attrs:{id:"wails-v2-如何使用-goland-调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v2-如何使用-goland-调试"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v2")]),s._v(" 如何使用 "),t("code",[s._v("Goland")]),s._v(" 调试")]),s._v(" "),t("h3",{attrs:{id:"创建项目的时候加上-ida-goland-即可"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建项目的时候加上-ida-goland-即可"}},[s._v("#")]),s._v(" 创建项目的时候加上 "),t("code",[s._v("--ida goland")]),s._v(" 即可")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("wails init "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" yourProject "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ide")]),s._v(" goland\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"wails-v3-安装路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-安装路径"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 安装路径")]),s._v(" "),t("p",[s._v("我个人对路径这里没有弄的太懂，所以每次编译后，仅仅在项目的 "),t("code",[s._v("go/bin")]),s._v(" 上有 "),t("code",[s._v("wails3")]),s._v(" 这个文件出现，但是呢，这玩意又是全局引用的，所以还得拷贝一份到 "),t("code",[s._v("/usr/local/go/bin")]),s._v(" 下即可")]),s._v(" "),t("h2",{attrs:{id:"如何使用-wails-v3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何使用-wails-v3"}},[s._v("#")]),s._v(" 如何使用 "),t("code",[s._v("Wails v3")])]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("wails v3")]),s._v(" 因为还在 "),t("code",[s._v("alpha")]),s._v(" 阶段，并不保证正式版发布后会沿用此写法\n"),t("code",[s._v("v3")]),s._v(" 需要使用到 "),t("code",[s._v("go 1.21")])])]),s._v(" "),t("h3",{attrs:{id:"wails-v3-文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-文档"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 文档")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://v3alpha.wails.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("wails v3"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"安装-wails-v3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-wails-v3"}},[s._v("#")]),s._v(" 安装 "),t("code",[s._v("wails v3")])]),s._v(" "),t("ol",[t("li",[s._v("从 "),t("code",[s._v("GitHub")]),s._v(" 上面 "),t("code",[s._v("clone")]),s._v(" "),t("a",{attrs:{href:"https://github.com/wailsapp/wails",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("wails")]),t("OutboundLink")],1)]),s._v(" "),t("li",[s._v("切换到 "),t("code",[s._v("v3-alpha")]),s._v(" 分支")]),s._v(" "),t("li",[s._v("安装 "),t("code",[s._v("v3 cli")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("Windows")]),s._v(" 命令行操作 "),t("code",[s._v("cd wails\\v3\\cmd\\wails3 && go install")])]),s._v(" "),t("li",[t("code",[s._v("macOS")]),s._v(" 命令操作 "),t("code",[s._v("cd wails/v3/cmd/wails3 && go install")])])])])]),s._v(" "),t("h3",{attrs:{id:"wails-v3-创建以及运行项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-创建以及运行项目"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 创建以及运行项目")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先创建项目")]),s._v("\nwails3 init "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" myproject "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" vue\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行项目")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" myproject "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" wail3 task build\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("然后到开发工具中的 "),t("code",[s._v("main.go")]),s._v(" 文件中运行即可")]),s._v(" "),t("blockquote",[t("p",[s._v("需要注意的地方，目前的 "),t("code",[s._v("V3")]),s._v(" 版本并不支持实时预览，需要进行编译后再处理")])]),s._v(" "),t("h3",{attrs:{id:"wails-v3-在-goland-中使用-debug-模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-在-goland-中使用-debug-模式"}},[s._v("#")]),s._v(" "),t("code",[s._v("Wails V3")]),s._v(" 在 "),t("code",[s._v("GoLand")]),s._v(" 中使用 "),t("code",[s._v("debug")]),s._v(" 模式")]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v("Wails")]),s._v(" 项目中，打开 "),t("code",[s._v("GoLand")]),s._v(" 的「运行/调试配置」，点击「+」，选择「Go Build」，然后在「运行种类」中选择「软件包」，在「环境」中输入 "),t("code",[s._v('export CGO_LDFLAGS="-framework UniformTypeIdentifiers"')]),s._v(" ，在「 "),t("code",[s._v("Go")]),s._v(" 工具实参」中输入 "),t("code",[s._v('-tags dev -gcflags "all=-N -l"')])]),s._v(" "),t("h3",{attrs:{id:"wails-v3-一些问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-一些问题"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 一些问题")]),s._v(" "),t("h4",{attrs:{id:"wails-v3-前端写完后运行时没变化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-前端写完后运行时没变化"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 前端写完后运行时没变化")]),s._v(" "),t("p",[t("s",[s._v("先执行一下 "),t("code",[s._v("wails3 task build")]),s._v(" 再运行，目前这玩意处于 "),t("code",[s._v("alpha")]),s._v(" 阶段，还不支持实时预览")])]),s._v(" "),t("p",[s._v("目前发现 "),t("code",[s._v("alpha3")]),s._v(" 中存在一个问题，就是控制台一直输出 "),t("code",[s._v('task: Task "build:frontend" is up to date')]),s._v(" 但是前端页面的的确确改变过的情况，目前采用的骚方案是，在终端中先进入到项目的 "),t("code",[s._v("fronend")]),s._v(" 目录下，然后执行 "),t("code",[s._v("npm run build -q")]),s._v(" 就可以解决该问题了，当然还是需要关闭相应的运行进程")]),s._v(" "),t("h4",{attrs:{id:"wails-v3-如何自定义菜单栏的图标"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何自定义菜单栏的图标"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 如何自定义菜单栏的图标")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//创建托盘")]),s._v("\n\tsystemTray "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NewSystemTray")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 假设您的资源文件在frontend/public/下")]),s._v("\n\tb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("_")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" assets"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ReadFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"frontend/dist/logo120x.png"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 假设您的资源文件在 xingcxb.com/access/下")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// b, _ := assets.ReadFile("access/logo120x.png")')]),s._v("\n\tsystemTray"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("SetTemplateIcon")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// v3.0.0-alpha.25 调整如下")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 独立引入资源文件")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//go:embed frontend/src/assets/logo.png")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" trayIcon "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("byte")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建托盘")]),s._v("\n\tsystemTray "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SystemTray"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("New")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置托盘图标")]),s._v("\n\tsystemTray"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("SetTemplateIcon")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("trayIcon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("blockquote",[t("p",[s._v("需要注意的是")]),s._v(" "),t("ol",[t("li",[s._v("您的资源文件放在了 "),t("code",[s._v("frontend/public")]),s._v(" 下的话，那么读取的地址就应该为上面的代码")]),s._v(" "),t("li",[s._v("您的资源文件在 "),t("code",[s._v("go")]),s._v(" 代码中，那么直接按根目录去读取即可")])])]),s._v(" "),t("h4",{attrs:{id:"wails-v3-设置窗口位置时出现闪烁的情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-设置窗口位置时出现闪烁的情况"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 设置窗口位置时出现闪烁的情况")]),s._v(" "),t("p",[s._v("声明完 "),t("code",[s._v("*application.WebviewWindow")]),s._v(" 后立刻设置窗口位置即可")]),s._v(" "),t("blockquote",[t("p",[s._v("注意：")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("wails v3")]),s._v(" 中的 "),t("code",[s._v("macOS")]),s._v(" 坐标是左下角为原点，即(0,0)")]),s._v(" "),t("li",[t("code",[s._v("wails v3")]),s._v(" 中创建 "),t("code",[s._v("*application.WebviewWindow")]),s._v(" 必须要声明窗口的宽度和高度，不然的话设置坐标的时候容易出现无效的情况，目前不知道是否为 "),t("code",[s._v("bug")])])])]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[s._v("mainWindow "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NewWebviewWindowWithOptions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WebviewWindowOptions"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmainWindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("SetAbsolutePosition")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"wails-v3-获取屏幕出现失败"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-获取屏幕出现失败"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 获取屏幕出现失败")]),s._v(" "),t("p",[s._v("大概率是遇到了 "),t("code",[s._v("*application.App")]),s._v(" 没有加载完毕，我的做法是：初始化后并不创建窗口，直接等待点击后再来创建一个窗口，然后再通过 "),t("code",[s._v("app.GetPrimaryScreen()")]),s._v(" 来获取屏幕的宽度和高度。")]),s._v(" "),t("h4",{attrs:{id:"wails-v3-失去焦点隐藏时再次点击出来的时候出现忙碌的情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-失去焦点隐藏时再次点击出来的时候出现忙碌的情况"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 失去焦点隐藏时再次点击出来的时候出现忙碌的情况")]),s._v(" "),t("p",[s._v("我遇到的情况应该是阻碍了主线程导致的，直接使用协程包裹一下就没事了")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("WindowLostFocus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("window "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WebviewWindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\twindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("RegisterHook")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("events"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Common"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WindowLostFocus"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WindowEvent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 目前这里出现了卡顿的情况")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\twindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Hide")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h4",{attrs:{id:"wails-v3-隐藏窗口再次显示"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-隐藏窗口再次显示"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 隐藏窗口再次显示")]),s._v(" "),t("blockquote",[t("p",[s._v("注意：")]),s._v(" "),t("ol",[t("li",[s._v("在通过 "),t("code",[s._v("*application.App")]),s._v(" 声明一个新的 "),t("code",[s._v("NewWebviewWindowWithOptions")]),s._v(" 时需要添加 "),t("code",[s._v("Name")]),s._v(" 属性")]),s._v(" "),t("li",[t("code",[s._v("mainWindowName")]),s._v(" 是我定义的窗口名称")])])]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ok "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("GetWindowByName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mainWindowName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WebviewWindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" ok "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 判断如果当前的窗口已经存在，则显示并聚焦")]),s._v("\n\t\tw"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Show")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Focus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"wails-v3-如何使用事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何使用事件"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 如何使用事件")]),s._v(" "),t("p",[s._v("目前因为 "),t("code",[s._v("V3")]),s._v(" 还处于 "),t("code",[s._v("alpha")]),s._v(" 阶段，可能后续有进行改变的可能，所以此方案仅供参考")]),s._v(" "),t("blockquote",[t("p",[s._v("前端和后端的数据传输都是通过 "),t("code",[s._v("*application.WailsEvent")]),s._v(" 来进行的，数据传输就在 "),t("code",[s._v("Data")]),s._v(" 中进行，事件的名称就在 "),t("code",[s._v("Name")]),s._v(" 中进行")])]),s._v(" "),t("ol",[t("li",[t("p",[t("code",[s._v("go")]),s._v(" 代码中在 "),t("code",[s._v("*application.App")]),s._v(" 中绑定监听函数")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 假设 app 为 *application.App")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理监听中指定名字的数据")]),s._v("\n app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Events"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("On")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myEventToCore"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WailsEvent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   data "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将处理后的数据返回给前台")]),s._v("\n   app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Events"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Emit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WailsEvent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     Name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myEventToFrontend"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 绑定事件名称")]),s._v("\n     Data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 绑定事件从前端获取到的数据")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("前端代码中")])])]),s._v(" "),t("div",{staticClass:"language-vue line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vue"}},[t("code",[s._v("... function sendData(){\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 发送数据到后端，通过name标记的名字由后端识别并解释 --\x3e")]),s._v('\nwails.Events.Emit({name: "myEventToCore", Data:""})\n'),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 监听后端发回来的数据，通过name标记的名字来进行处理 --\x3e")]),s._v('\nwails.Events.Once("myEventToFrontend", function (data) { let currentHTML =\ndocument.getElementById("results").innerHTML;\ndocument.getElementById("results").innerHTML = currentHTML + "\n'),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("br")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v('\n" + JSON.stringify(data); }) } ...\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h4",{attrs:{id:"wails-v3-如何在初始化时出现错误弹出提示框-并退出程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何在初始化时出现错误弹出提示框-并退出程序"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 如何在初始化时出现错误弹出提示框，并退出程序")]),s._v(" "),t("p",[s._v("我个人的经验就是在 "),t("code",[s._v("main.go")]),s._v(" 中使用协程，然后在初始化的时候会报错的函数上面延时 "),t("code",[s._v("1s")]),s._v(" 后再进行处理，这样就可以在初始化的时候出现错误弹出提示框，并退出程序")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 初始化数据库")]),s._v("\n    db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("InitDB")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 判断是否启动成功")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Sqlite3Status "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Quit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[s._v("sqlite3Db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tsqlite3Db "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("sql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DB "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// sqlite3数据库连接")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Sqlite3Status 启动状态，默认为false。true：启动，false：未启动")]),s._v("\n\tSqlite3Status "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("InitDb")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Sleep")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Second"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" err "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("nil")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 弹出提示框")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  Sqlite3Status "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h4",{attrs:{id:"wails-v3-如何打包应用程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何打包应用程序"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 如何打包应用程序")]),s._v(" "),t("blockquote",[t("p",[s._v("注意：目前 "),t("code",[s._v("wails v3")]),s._v(" 还处于 "),t("code",[s._v("alpha")]),s._v(" 阶段，打包的功能还没有完善，所以目前的打包方式仅供参考\ns3 build -p windows")])]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("macOS")]),s._v(" 打包")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("wails3 task create-app-bundle\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 240208后新的打包方式")]),s._v("\nwails3 task package\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("目前遇到一个问题就是打包后显示的是默认的图标，而不是自定义的 "),t("code",[s._v("icons")]),s._v(" 暂时没有找到解决方案")])]),s._v(" "),t("h4",{attrs:{id:"wails-v3-如何在调试中申请自动化权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何在调试中申请自动化权限"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 如何在调试中申请自动化权限")]),s._v(" "),t("p",[s._v("如果是正常的 "),t("code",[s._v("wails3 task build")]),s._v(" 的话，那么在调试中是无法申请自动化权限的，需要在 "),t("code",[s._v("wails3 task build")]),s._v(" 之后再进行 "),t("code",[s._v("wails3 task create-app-bundle")]),s._v(" 打包，然后在打包后的 "),t("code",[s._v("app")]),s._v(" 中进行调试。但是都已经打包了也就不符合我开发过程中调试的目的了，所以想了一个骚方法，另外没有那么多弯弯绕绕不需要去特别申请什么自动化的权限...一切交给系统吧")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 启动时就申请一个权限，后面代码可以撤销")]),s._v("\ncmd "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" exec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Command")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"osascript"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-e"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('`tell application "System Events" to display dialog "Hello, World!"`')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nerr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" cmd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" err "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("nil")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Fatal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("err"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\napp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("New")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h4",{attrs:{id:"wails-v3-中窗口关闭后再次激活窗口出现两个事件绑定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-中窗口关闭后再次激活窗口出现两个事件绑定"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 中窗口关闭后再次激活窗口出现两个事件绑定")]),s._v(" "),t("p",[s._v("原因是因为 "),t("code",[s._v("wails v3")]),s._v(" 中的 "),t("code",[s._v("app.Events.On")]),s._v(" 是绑定的全局事件，所以在窗口关闭后再次激活窗口的时候会再次绑定事件，所以需要在窗口关闭的时候将事件解绑")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\napp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Events"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("On")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("common"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("EventsHandleCardDoubleClickToCore"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WailsEvent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 关闭事件")]),s._v("\n  app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Events"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Off")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("common"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("EventsHandleCardDoubleClickToCore"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h4",{attrs:{id:"wails-v3-在-windows-下运行出现一个-cmd-窗口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-在-windows-下运行出现一个-cmd-窗口"}},[s._v("#")]),s._v(" "),t("code",[s._v("wails v3")]),s._v(" 在 "),t("code",[s._v("Windows")]),s._v(" 下运行出现一个 "),t("code",[s._v("cmd")]),s._v(" 窗口")]),s._v(" "),t("p",[s._v("构建的时候加上 "),t("code",[s._v('-ldflags="-H windows gui"')]),s._v(" 即可")]),s._v(" "),t("h4",{attrs:{id:"wails-v3-如何在页面上自定义可拖拽的区域"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何在页面上自定义可拖拽的区域"}},[s._v("#")]),s._v(" "),t("code",[s._v("Wails v3")]),s._v(" 如何在页面上自定义可拖拽的区域")]),s._v(" "),t("p",[s._v("在组件的添加样式: "),t("code",[s._v("--wails-draggable:drag")]),s._v(" 即可")]),s._v(" "),t("div",{staticClass:"language-css line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[s._v("<div style="),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"--wails-draggable:drag"')]),s._v(">\n</div>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"wails-v3-如何设置透明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-如何设置透明"}},[s._v("#")]),s._v(" "),t("code",[s._v("Wails v3")]),s._v(" 如何设置透明")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("Go")]),s._v(" 文件")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在main窗口中设置Backdrop")]),s._v("\nMac"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MacWindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\tInvisibleTitleBarHeight"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t\tBackdrop"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("                application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MacBackdropTransparent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使窗口透明")]),s._v("\n\t\t\tTitleBar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("                application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MacTitleBarHiddenInset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("css")]),s._v(" 文件")]),s._v(" "),t("div",{staticClass:"language-css line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-css"}},[t("code",[t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(":root")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 设置组件为透明 */")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("--bg-trans")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rgba")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("223"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 232"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 226"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0.9"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("body")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 设置背景色为透明 */")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rgba")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 0.5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])])])]),s._v(" "),t("h4",{attrs:{id:"wails-v3-在如何增加原生-menu-组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-在如何增加原生-menu-组件"}},[s._v("#")]),s._v(" "),t("code",[s._v("Wails v3")]),s._v(" 在如何增加原生 "),t("code",[s._v("menu")]),s._v(" 组件")]),s._v(" "),t("p",[s._v("此处以「编辑」为例")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("BuildMenu")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("app "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("App"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tmenu "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NewMenu")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("menuEdit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("menu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tapp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("SetMenu")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("menu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("menuEdit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("menu "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Menu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tcustomMenu "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":=")]),s._v(" menu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AddSubmenu")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"编辑"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tcustomMenu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AddRole")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Undo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 撤销")]),s._v("\n\tcustomMenu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AddRole")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Redo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 重做")]),s._v("\n\tcustomMenu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AddSeparator")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 分隔符")]),s._v("\n\tcustomMenu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AddRole")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Cut"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 剪切 (CmdOrCtrl+X)")]),s._v("\n\tcustomMenu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AddRole")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Copy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 复制 (CmdOrCtrl+C)")]),s._v("\n\tcustomMenu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AddRole")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Paste"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 粘贴 (CmdOrCtrl+V) - 这个会可靠工作")]),s._v("\n\tcustomMenu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AddRole")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Delete"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除")]),s._v("\n\tcustomMenu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AddSeparator")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 分隔符")]),s._v("\n\tcustomMenu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AddRole")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("application"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SelectAll"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 全选 (CmdOrCtrl+A)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h3",{attrs:{id:"遭遇过的错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#遭遇过的错误"}},[s._v("#")]),s._v(" 遭遇过的错误")]),s._v(" "),t("h4",{attrs:{id:"rollup-failed-to-resolve-import-vite-svg-from"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rollup-failed-to-resolve-import-vite-svg-from"}},[s._v("#")]),s._v(" "),t("code",[s._v('Rollup failed to resolve import "/vite.svg" from')])]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v("App.vue")]),s._v(" 文件中指定 "),t("code",[s._v("vitejs")]),s._v(" 的 "),t("code",[s._v("svg")]),s._v(" 文件不存在，改下就好了")]),s._v(" "),t("h4",{attrs:{id:"wails-v3-中绑定-url-无效"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wails-v3-中绑定-url-无效"}},[s._v("#")]),s._v(" "),t("code",[s._v("Wails v3")]),s._v(" 中绑定 "),t("code",[s._v("URL")]),s._v(" 无效")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("使用 "),t("code",[s._v("js")]),s._v(" 时")]),s._v(" "),t("p",[s._v("如果采用的是 "),t("code",[s._v('<router-view :key:="..." />')]),s._v(" 那么这个时候在 "),t("code",[s._v("go")]),s._v(" 代码中需要使用 "),t("code",[s._v("#/...")]),s._v(" 来进行绑定，而不是直接使用链接")])]),s._v(" "),t("li",[t("p",[s._v("使用 "),t("code",[s._v("ts")]),s._v(" 时，需要将 "),t("code",[s._v("history")]),s._v(" 变更为 "),t("code",[s._v("hash")]),s._v(" 模式")]),s._v(" "),t("div",{staticClass:"language-ts line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ts"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" router "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createRouter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  history"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createWebHistory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  routes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("改为：")]),s._v(" "),t("div",{staticClass:"language-ts line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ts"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" router "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createRouter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  history"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createWebHashHistory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  routes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])])])],1)}),[],!1,null,null,null);t.default=e.exports}}]);