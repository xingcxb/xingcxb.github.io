(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{557:function(s,a,t){"use strict";t.r(a);var e=t(0),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("最近部署的程序放到比较低端的服务器上面去了，有些小功能比较吃性能，而且还是在半夜自动执行的，所以就想着能不能把这些功能放到 "),a("code",[s._v("shell")]),s._v(" 脚本里面去，然后再用 "),a("code",[s._v("crontab")]),s._v(" 去定时执行，这样就不用每次都去手动执行了，也不用担心性能问题了。结果以为挺简单的玩意也踩了一些坑才搞定😂")]),s._v(" "),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),s._v(" "),a("h2",{attrs:{id:"shell-脚本的运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-脚本的运行"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" 脚本的运行")]),s._v(" "),a("blockquote",[a("p",[s._v("假设在命令当前目录下有一个 "),a("code",[s._v("hello.sh")]),s._v(" 的脚本文件")])]),s._v(" "),a("ol",[a("li",[s._v("直接运行，执行 "),a("code",[s._v("bin/bash test.sh")]),s._v(" 命令即可")]),s._v(" "),a("li",[s._v("给脚本文件添加可执行权限 "),a("code",[s._v("chmod +x test.sh")]),s._v(" 然后直接执行命令 "),a("code",[s._v("./test.sh")])])]),s._v(" "),a("h2",{attrs:{id:"shell-脚本的基本结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-脚本的基本结构"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" 脚本的基本结构")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 说明：这是一个shell脚本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 作者：xingcxb")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 时间：2021-09-20 08:59:53")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 版本：v1.0.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("blockquote",[a("p",[s._v("说明：")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("#!/bin/bash")]),s._v(" 表示使用 "),a("code",[s._v("bash")]),s._v(" 解释器来执行脚本，该行为仅仅是一个约定标记，告诉系统使用什么解释器来运行")]),s._v(" "),a("li",[a("code",[s._v("#")]),s._v(" 表示注释")]),s._v(" "),a("li",[a("code",[s._v("echo")]),s._v(" 表示输出")])])]),s._v(" "),a("h2",{attrs:{id:"shell-脚本的基本语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-脚本的基本语法"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" 脚本的基本语法")]),s._v(" "),a("h3",{attrs:{id:"shell-执行时传递参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-执行时传递参数"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" 执行时传递参数")]),s._v(" "),a("p",[s._v("如果在执行 "),a("code",[s._v("shell")]),s._v(" 时需要对其进行传参，那么可以使用 "),a("code",[s._v("$n")]),s._v(" 的形式来获取参数，其中 "),a("code",[s._v("n")]),s._v(" 表示第几个参数，"),a("code",[s._v("$0")]),s._v(" 表示脚本名称，"),a("code",[s._v("$1")]),s._v(" 表示第一个参数，"),a("code",[s._v("$2")]),s._v(" 表示第二个参数，以此类推。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"不器测试 Shell 传递参数"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"执行的文件名：'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第一个参数为：'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第二个参数为：'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第三个参数为：'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$3")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("假设上面的文件名为 "),a("code",[s._v("test.sh")]),s._v(" 当我们执行 "),a("code",[s._v("./test.sh 1 2 3")]),s._v(" 命令时，输出结果如下：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("不器测试 Shell 传递参数\n执行的文件名：./test.sh\n第一个参数为：1\n第二个参数为：2\n第三个参数为：3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"其它说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其它说明"}},[s._v("#")]),s._v(" 其它说明")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("参数处理")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("$#")])]),s._v(" "),a("td",[s._v("传递到脚本的参数个数")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("$*")])]),s._v(" "),a("td",[s._v("以一个单字符串显示所有向脚本传递的参数。"),a("br"),s._v(" 如 "),a("code",[s._v('"$*"')]),s._v(" 用 "),a("code",[s._v('「"」')]),s._v(" 括起来的情况、以 "),a("code",[s._v('"$1 $2 … $n"')]),s._v(" 的形式输出所有参数。")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("$$")])]),s._v(" "),a("td",[s._v("脚本运行的当前进程 "),a("code",[s._v("ID")]),s._v(" 号")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("$!")])]),s._v(" "),a("td",[s._v("后台运行的最后一个进程的 "),a("code",[s._v("ID")]),s._v(" 号")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("$@")])]),s._v(" "),a("td",[s._v("与 "),a("code",[s._v("$*")]),s._v(" 相同，但是使用时加引号，并在引号中返回每个参数。"),a("br"),s._v("如"),a("code",[s._v('"$@"')]),s._v("用"),a("code",[s._v('「"」')]),s._v("括起来的情况、以"),a("code",[s._v('"$1" "$2" … "$n"')]),s._v(" 的形式输出所有参数。")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("$-")])]),s._v(" "),a("td",[s._v("显示 "),a("code",[s._v("Shell")]),s._v(" 使用的当前选项。")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("$?")])]),s._v(" "),a("td",[s._v("显示最后命令的退出状态。"),a("code",[s._v("0")]),s._v(" 表示没有错误，其他任何值表明有错误。")])])])]),s._v(" "),a("h3",{attrs:{id:"shell-变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-变量"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" 变量")]),s._v(" "),a("blockquote",[a("p",[s._v("声明变量名需要注意：")]),s._v(" "),a("ul",[a("li",[s._v("只包含字母、数字和下划线。变量名可以包含字母（大小写敏感）、数字和下划线 _，不能包含其他特殊字符")]),s._v(" "),a("li",[s._v("不能以数字开头： 变量名不能以数字开头，但可以包含数字")]),s._v(" "),a("li",[s._v("避免使用 "),a("code",[s._v("Shell")]),s._v(" 关键字： 例如 "),a("code",[s._v("if")]),s._v("、"),a("code",[s._v("then")]),s._v("、"),a("code",[s._v("else")]),s._v("、"),a("code",[s._v("fi")]),s._v("、"),a("code",[s._v("for")]),s._v("、"),a("code",[s._v("while")]),s._v(" 等作为变量名，以免引起混淆")]),s._v(" "),a("li",[s._v("使用大写字母表示常量： 习惯上，常量的变量名通常使用大写字母，例如 "),a("code",[s._v("PI=3.14")])]),s._v(" "),a("li",[s._v("避免使用特殊符号： 尽量避免在变量名中使用特殊符号，因为它们可能与 "),a("code",[s._v("Shell")]),s._v(" 的语法产生冲突")]),s._v(" "),a("li",[s._v("避免使用空格： 变量名中不应该包含空格，因为空格通常用于分隔命令和参数")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 声明变量")]),s._v("\na "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用变量")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将变量设置为只读")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("readonly")]),s._v(" a\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除变量")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unset")]),s._v(" a\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取字符串长度")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("a}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提取子字符串")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${a"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("1"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("4}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查找子字符串")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("expr")]),s._v(" index "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v('"')]),s._v(" Wo"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h3",{attrs:{id:"shell-数组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-数组"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" 数组")]),s._v(" "),a("p",[a("code",[s._v("Shell")]),s._v(' 数组用括号来表示，元素用"空格"符号分割开')]),s._v(" "),a("blockquote",[a("p",[s._v("注意：")]),s._v(" "),a("ul",[a("li",[s._v("只支持一维数组（不支持多维数组）")]),s._v(" "),a("li",[s._v("数组元素的下标由 "),a("code",[s._v("0")]),s._v(" 开始")]),s._v(" "),a("li",[s._v("可以不使用连续的下标，而且下标的范围没有限制")]),s._v(" "),a("li",[s._v("命名规则与变量相同，详情参见 "),a("a",{attrs:{href:"#shell-%E5%8F%98%E9%87%8F"}},[s._v("Shell 变量")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("my_array")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("A B "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C"')]),s._v(" D"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取数组中的所有元素，使用 @ 或 * 可以获取数组中的所有元素")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${my_array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${my_array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取数组中的元素个数，使用 @ 或 * 可以获取数组中的所有元素")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("my_array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("my_array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取数组中的单个元素（指定其下标即可）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${my_array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),s._v(" "),a("h3",{attrs:{id:"shell-运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-运算符"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" 运算符")]),s._v(" "),a("ul",[a("li",[s._v("算数运算符")]),s._v(" "),a("li",[s._v("关系运算符")]),s._v(" "),a("li",[s._v("布尔运算符")]),s._v(" "),a("li",[s._v("字符串运算符")]),s._v(" "),a("li",[s._v("文件测试运算符")])]),s._v(" "),a("blockquote",[a("p",[s._v("注意：")]),s._v(" "),a("ul",[a("li",[s._v("原生 "),a("code",[s._v("bash")]),s._v(" 不支持简单的数学运算，但是可以通过其他命令来实现，例如 "),a("code",[s._v("awk")]),s._v(" 和 "),a("code",[s._v("expr")]),s._v("，"),a("code",[s._v("expr")]),s._v(" 最常用")]),s._v(" "),a("li",[s._v("表达式和运算符之间要有空格，例如 "),a("code",[s._v("2+2")]),s._v(" 是不对的，必须写成 "),a("code",[s._v("2 + 2")])]),s._v(" "),a("li",[s._v("完整的表达式要被 "),a("code",[s._v("` `")]),s._v(" 包含，注意这个字符不是常用的单引号，在 Esc 键下边。")]),s._v(" "),a("li",[s._v("条件表达式要放在方括号之间，并且要有空格，例如: "),a("code",[s._v("[$a==$b]")]),s._v(" 是错误的，必须写成 "),a("code",[s._v("[ $a == $b ]")]),s._v("。")]),s._v(" "),a("li",[s._v("乘号("),a("code",[s._v("*")]),s._v(")前边必须加反斜杠("),a("code",[s._v("\\")]),s._v(")才能实现乘法运算")]),s._v(" "),a("li",[a("code",[s._v("if...then...fi")]),s._v(" 是条件语句")]),s._v(" "),a("li",[s._v("在 "),a("code",[s._v("macOS")]),s._v(" 中 "),a("code",[s._v("shell")]),s._v(" 的 "),a("code",[s._v("expr")]),s._v(" 语法是："),a("code",[s._v("$((表达式))")]),s._v("，此处表达式中的 "),a("code",[s._v("*")]),s._v(" 不需要转义符号 "),a("code",[s._v("\\")])])])]),s._v(" "),a("h4",{attrs:{id:"关系运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关系运算符"}},[s._v("#")]),s._v(" 关系运算符")]),s._v(" "),a("blockquote",[a("p",[s._v("假设变量 "),a("code",[s._v("a")]),s._v(" 为 "),a("code",[s._v("10")]),s._v("，变量 "),a("code",[s._v("b")]),s._v(" 为 "),a("code",[s._v("20")]),s._v("：")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("运算符")]),s._v(" "),a("th",[s._v("说明")]),s._v(" "),a("th",[s._v("举例")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("-eq")])]),s._v(" "),a("td",[s._v("检测两个数是否相等，相等返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ $a -eq $b ]")]),s._v(" 返回 "),a("code",[s._v("false")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-ne")])]),s._v(" "),a("td",[s._v("检测两个数是否不相等，不相等返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ $a -ne $b ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-gt")])]),s._v(" "),a("td",[s._v("检测左边的数是否大于右边的，如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ $a -gt $b ]")]),s._v(" 返回 "),a("code",[s._v("false")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-lt")])]),s._v(" "),a("td",[s._v("检测左边的数是否小于右边的，如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ $a -lt $b ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-ge")])]),s._v(" "),a("td",[s._v("检测左边的数是否大于等于右边的，如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ $a -ge $b ]")]),s._v(" 返回 "),a("code",[s._v("false")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-le")])]),s._v(" "),a("td",[s._v("检测左边的数是否小于等于右边的，如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ $a -le $b ]")]),s._v(" 返回 "),a("code",[s._v("true")])])])])]),s._v(" "),a("h4",{attrs:{id:"布尔运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#布尔运算符"}},[s._v("#")]),s._v(" 布尔运算符")]),s._v(" "),a("blockquote",[a("p",[s._v("假设变量 "),a("code",[s._v("a")]),s._v(" 为 "),a("code",[s._v("10")]),s._v("，变量 "),a("code",[s._v("b")]),s._v(" 为 "),a("code",[s._v("20")]),s._v("：")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("运算符")]),s._v(" "),a("th",[s._v("说明")]),s._v(" "),a("th",[s._v("举例")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("!")])]),s._v(" "),a("td",[s._v("非运算，表达式为 "),a("code",[s._v("true")]),s._v(" 则返回 "),a("code",[s._v("false")]),s._v("，否则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ ! false ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-o")])]),s._v(" "),a("td",[s._v("或运算，有一个表达式为 "),a("code",[s._v("true")]),s._v(" 则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ $a -lt 20 -o $b -gt 100 ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-a")])]),s._v(" "),a("td",[s._v("与运算，两个表达式都为 "),a("code",[s._v("true")]),s._v(" 才返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ $a -lt 20 -a $b -gt 100 ]")]),s._v(" 返回 "),a("code",[s._v("false")])])])])]),s._v(" "),a("h4",{attrs:{id:"逻辑运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#逻辑运算符"}},[s._v("#")]),s._v(" 逻辑运算符")]),s._v(" "),a("blockquote",[a("p",[s._v("假设变量 "),a("code",[s._v("a")]),s._v(" 为 "),a("code",[s._v("10")]),s._v("，变量 "),a("code",[s._v("b")]),s._v(" 为 "),a("code",[s._v("20")]),s._v("：")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("运算符")]),s._v(" "),a("th",[s._v("说明")]),s._v(" "),a("th",[s._v("举例")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("&&")])]),s._v(" "),a("td",[s._v("逻辑的 "),a("code",[s._v("AND")])]),s._v(" "),a("td",[a("code",[s._v("[[ $a -lt 100 && $b -gt 100 ]]")]),s._v(" 返回 "),a("code",[s._v("false")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("||")])]),s._v(" "),a("td",[s._v("逻辑的 "),a("code",[s._v("OR")])]),s._v(" "),a("td",[a("code",[s._v("[[ $a -lt 100 || $b -gt 100 ]]")]),s._v(" 返回 "),a("code",[s._v("true")])])])])]),s._v(" "),a("h4",{attrs:{id:"字符串运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符串运算符"}},[s._v("#")]),s._v(" 字符串运算符")]),s._v(" "),a("blockquote",[a("p",[s._v("假设变量 "),a("code",[s._v("a")]),s._v(" 为 "),a("code",[s._v("abc")]),s._v("，变量 "),a("code",[s._v("b")]),s._v(" 为 "),a("code",[s._v("efg")]),s._v("：")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("运算符")]),s._v(" "),a("th",[s._v("说明")]),s._v(" "),a("th",[s._v("举例")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("=")])]),s._v(" "),a("td",[s._v("检测两个字符串是否相等，相等返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ $a = $b ]")]),s._v(" 返回 "),a("code",[s._v("false")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("!=")])]),s._v(" "),a("td",[s._v("检测两个字符串是否不相等，不相等返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ $a != $b ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-z")])]),s._v(" "),a("td",[s._v("检测字符串长度是否为 "),a("code",[s._v("0")]),s._v("，为 "),a("code",[s._v("0")]),s._v(" 返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -z $a ]")]),s._v(" 返回 "),a("code",[s._v("false")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-n")])]),s._v(" "),a("td",[s._v("检测字符串长度是否"),a("strong",[s._v("不")]),s._v("为 "),a("code",[s._v("0")]),s._v("，不为 "),a("code",[s._v("0")]),s._v(" 返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v('[ -n "$a" ]')]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("$")])]),s._v(" "),a("td",[s._v("检测字符串是否"),a("strong",[s._v("不")]),s._v("为空，不为空返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ $a ]")]),s._v(" 返回 "),a("code",[s._v("true")])])])])]),s._v(" "),a("h4",{attrs:{id:"文件测试运算符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件测试运算符"}},[s._v("#")]),s._v(" 文件测试运算符")]),s._v(" "),a("blockquote",[a("p",[s._v("假设当前目录下有一个 "),a("code",[s._v("test.sh")]),s._v(" 文件：")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("运算符")]),s._v(" "),a("th",[s._v("说明")]),s._v(" "),a("th",[s._v("举例")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("-b")])]),s._v(" "),a("td",[s._v("检测文件是否是块设备文件，如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -b test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-c")])]),s._v(" "),a("td",[s._v("检测文件是否是字符设备文件，如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -c test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-d")])]),s._v(" "),a("td",[s._v("检测文件是否是目录，如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -d test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-e")])]),s._v(" "),a("td",[s._v("检测文件是否存在，存在返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -e test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-f")])]),s._v(" "),a("td",[s._v("检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -f test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-g")])]),s._v(" "),a("td",[s._v("检测文件是否设置了 "),a("code",[s._v("SGID")]),s._v(" 位，如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -g test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-k")])]),s._v(" "),a("td",[s._v("检测文件是否设置了粘着位("),a("code",[s._v("Sticky Bit")]),s._v(")，如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -k test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-p")])]),s._v(" "),a("td",[s._v("检测文件是否是有名管道，如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -p test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-u")])]),s._v(" "),a("td",[s._v("检测文件是否设置了 "),a("code",[s._v("SUID")]),s._v(" 位，如果是，则返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -u test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-r")])]),s._v(" "),a("td",[s._v("检测文件是否可读，可读返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -r test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-w")])]),s._v(" "),a("td",[s._v("检测文件是否可写，可写返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -w test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-x")])]),s._v(" "),a("td",[s._v("检测文件是否可执行，可执行返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -x test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-s")])]),s._v(" "),a("td",[s._v("检测文件是否为空（文件大小是否大于 "),a("code",[s._v("0")]),s._v("），不为空返回 "),a("code",[s._v("true")])]),s._v(" "),a("td",[a("code",[s._v("[ -s test.sh ]")]),s._v(" 返回 "),a("code",[s._v("true")])])])])]),s._v(" "),a("p",[s._v("其它：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("-S")]),s._v(": 判断某文件是否 "),a("code",[s._v("socket")])]),s._v(" "),a("li",[a("code",[s._v("-L")]),s._v(": 检测文件是否存在并且是一个符号链接。")])]),s._v(" "),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),s._v(" "),a("h3",{attrs:{id:"shell-echo-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-echo-命令"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" "),a("code",[s._v("echo")]),s._v(" 命令")]),s._v(" "),a("p",[a("code",[s._v("Shell")]),s._v(" 的 "),a("code",[s._v("echo")]),s._v(" 指令是用于字符串的输出")]),s._v(" "),a("h4",{attrs:{id:"显示普通字符串"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显示普通字符串"}},[s._v("#")]),s._v(" 显示普通字符串")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"It is a test"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" It is a "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"显示转义字符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显示转义字符"}},[s._v("#")]),s._v(" 显示转义字符")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("It is a test"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v('"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"显示变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显示变量"}},[s._v("#")]),s._v(" 显示变量")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读取键盘输入")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" name\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v(' It is a test"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"显示换行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显示换行"}},[s._v("#")]),s._v(" 显示换行")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OK! '),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -e 开启转义")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"It is a test"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"显示不换行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显示不换行"}},[s._v("#")]),s._v(" 显示不换行")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OK! '),a("span",{pre:!0,attrs:{class:"token entity",title:"\\c"}},[s._v("\\c")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -e 开启转义 \\c 不换行")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"It is a test"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"显示结果定向至文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显示结果定向至文件"}},[s._v("#")]),s._v(" 显示结果定向至文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"It is a test"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" myfile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"原样输出字符串-不进行转义或取变量-用单引号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原样输出字符串-不进行转义或取变量-用单引号"}},[s._v("#")]),s._v(" 原样输出字符串，不进行转义或取变量(用单引号)")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'$name\\\"'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"显示命令执行结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显示命令执行结果"}},[s._v("#")]),s._v(" 显示命令执行结果")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：下面的命令使用的是反引号"),a("code",[s._v("`")]),s._v("，而不是单引号"),a("code",[s._v("'")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),s._v(" "),a("h3",{attrs:{id:"shell-流程控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-流程控制"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" 流程控制")]),s._v(" "),a("h4",{attrs:{id:"if-语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#if-语句"}},[s._v("#")]),s._v(" "),a("code",[s._v("if")]),s._v(" 语句")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if 语句")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" condition\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    command1 \n    command2\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    commandN \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if else 语句")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" condition\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    command1 \n    command2\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    commandN\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if else-if else 语句")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" condition1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    command1\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" condition2 \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" \n    command2\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    commandN\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("h4",{attrs:{id:"for-循环"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#for-循环"}},[s._v("#")]),s._v(" "),a("code",[s._v("for")]),s._v(" 循环")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("var")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" item1 item2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". itemN\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    command1\n    command2\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    commandN\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"while-循环"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#while-循环"}},[s._v("#")]),s._v(" "),a("code",[s._v("while")]),s._v(" 循环")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" condition\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"until-循环"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#until-循环"}},[s._v("#")]),s._v(" "),a("code",[s._v("until")]),s._v(" 循环")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" condition\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"case-语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#case-语句"}},[s._v("#")]),s._v(" "),a("code",[s._v("case")]),s._v(" 语句")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" 值 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n模式1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    command1\n    command2\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    commandN\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n模式2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    command1\n    command2\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    commandN\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h4",{attrs:{id:"跳出循环"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跳出循环"}},[s._v("#")]),s._v(" 跳出循环")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("break")]),s._v(" 命令：跳出所有循环")]),s._v(" "),a("li",[a("code",[s._v("continue")]),s._v(" 命令：跳出当前循环")]),s._v(" "),a("li",[a("code",[s._v("return")]),s._v(" 命令：从函数中跳出")]),s._v(" "),a("li",[a("code",[s._v("exit")]),s._v(" 命令：退出脚本")]),s._v(" "),a("li",[a("code",[s._v("exit n")]),s._v(" 命令：退出脚本并返回 "),a("code",[s._v("n")]),s._v(" 值，"),a("code",[s._v("n")]),s._v(" 的范围为 "),a("code",[s._v("0-255")]),s._v("，"),a("code",[s._v("0")]),s._v(" 表示成功，其他值表示失败")])]),s._v(" "),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),s._v(" "),a("h3",{attrs:{id:"shell-函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-函数"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" 函数")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：")]),s._v(" "),a("ul",[a("li",[s._v("可以带 "),a("code",[s._v("function fun()")]),s._v(" 定义，也可以直接 "),a("code",[s._v("fun()")]),s._v(" 定义,不带任何参数")]),s._v(" "),a("li",[s._v("参数返回，可以显示加："),a("code",[s._v("return")]),s._v(" 返回，如果不加，将以最后一条命令运行结果，作为返回值。 "),a("code",[s._v("return")]),s._v(" 后跟数值"),a("code",[s._v("n")]),s._v(" "),a("code",[s._v("(0-255]")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 函数定义")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("demoFun")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"这是我的第一个 shell 函数!"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 函数调用")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-----函数开始执行-----"')]),s._v("\ndemoFun\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-----函数执行完毕-----"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"函数参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数参数"}},[s._v("#")]),s._v(" 函数参数")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("Shell")]),s._v(" 中，调用函数时可以向其传递参数。在函数体内部，通过 "),a("code",[s._v("$n")]),s._v(" 的形式来获取参数的值，例如，"),a("code",[s._v("$1")]),s._v(" 表示第一个参数，"),a("code",[s._v("$2")]),s._v(" 表示第二个参数...")]),s._v(" "),a("blockquote",[a("p",[s._v("注意："),a("code",[s._v("$10")]),s._v(" 不能获取第十个参数，获取第十个参数需要 "),a("code",[s._v("${10}")]),s._v(" 。当 "),a("code",[s._v("n>=10")]),s._v(" 时，需要使用 "),a("code",[s._v("${n}")]),s._v(" 来获取参数")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 函数定义")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("funWithParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第一个参数为 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(' !"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第二个参数为 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(' !"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第十个参数为 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$10")]),s._v(' !"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第十个参数为 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${10}")]),s._v(' !"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"第十一个参数为 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${11}")]),s._v(' !"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"参数总数有 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v(' 个!"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"作为一个字符串输出所有参数 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$*")]),s._v(' !"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 函数调用")]),s._v("\nfunWithParam "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"函数返回值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数返回值"}},[s._v("#")]),s._v(" 函数返回值")]),s._v(" "),a("p",[a("code",[s._v("Shell")]),s._v(" 函数返回值只能是整数，一般用来表示函数执行成功与否，"),a("code",[s._v("0")]),s._v(" 代表成功，其他值表示失败。如果 "),a("code",[s._v("return")]),s._v(" 其他数据，比如一个字符串，往往会得到错误提示："),a("code",[s._v("“numeric argument required”")]),s._v("。")]),s._v(" "),a("p",[s._v("如果一定要让函数返回字符串，那么可以先定义一个变量，用来接收函数的计算结果，脚本在需要的时候访问这个变量来获得函数返回值。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 函数定义")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("funWithReturn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"这个函数会对输入的两个数字进行相加运算..."')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"输入第一个数字: "')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" aNum\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"输入第二个数字: "')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" anotherNum\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"两个数字分别为 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$aNum")]),s._v(" 和 "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$anotherNum")]),s._v(' !"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v("$aNum"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("$anotherNum"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 函数调用")]),s._v("\nfunWithReturn\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 函数返回值在调用该函数后通过 $? 来获得")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"输入的两个数字之和为 '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v(' !"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),s._v(" "),a("h3",{attrs:{id:"shell-输入-输出重定向"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-输入-输出重定向"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" 输入 "),a("code",[s._v("/")]),s._v(" 输出重定向")]),s._v(" "),a("p",[s._v("|  运算符   | 说明  |\n|  "),a("code",[s._v("command > file")]),s._v("  | 将输出重定向到 "),a("code",[s._v("file")]),s._v("  |\n|  "),a("code",[s._v("command < file")]),s._v("  | 将输入重定向到 "),a("code",[s._v("file")]),s._v("  |\n|  "),a("code",[s._v("command >> file")]),s._v("  | 将输出以追加的方式重定向到 "),a("code",[s._v("file")]),s._v("  |\n|  "),a("code",[s._v("n > file")]),s._v("  | 将文件描述符为 "),a("code",[s._v("n")]),s._v(" 的文件重定向到 "),a("code",[s._v("file")]),s._v("  |\n|  "),a("code",[s._v("n >> file")]),s._v("  | 将文件描述符为 "),a("code",[s._v("n")]),s._v(" 的文件以追加的方式重定向到 "),a("code",[s._v("file")]),s._v("  |\n|  "),a("code",[s._v("n >& m")]),s._v("  | 将输出文件 "),a("code",[s._v("m")]),s._v(" 和 "),a("code",[s._v("n")]),s._v(" 合并  |\n|  "),a("code",[s._v("n <& m")]),s._v("  | 将输入文件 "),a("code",[s._v("m")]),s._v(" 和 "),a("code",[s._v("n")]),s._v(" 合并  |\n|  "),a("code",[s._v("<< tag")]),s._v("  | 将开始标记 "),a("code",[s._v("tag")]),s._v(" 和结束标记 "),a("code",[s._v("tag")]),s._v(" 之间的内容作为输入  |")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：\n一般情况下，每个 "),a("code",[s._v("Unix/Linux")]),s._v(" 命令运行时都会打开三个文件：")]),s._v(" "),a("ul",[a("li",[s._v("标准输入文件("),a("code",[s._v("stdin")]),s._v(")："),a("code",[s._v("stdin")]),s._v(" 的文件描述符为 "),a("code",[s._v("0")]),s._v("，"),a("code",[s._v("Unix")]),s._v(" 程序默认从 "),a("code",[s._v("stdin")]),s._v(" 读取数据")]),s._v(" "),a("li",[s._v("标准输出文件("),a("code",[s._v("stdout")]),s._v(")："),a("code",[s._v("stdout")]),s._v(" 的文件描述符为 "),a("code",[s._v("1")]),s._v("，"),a("code",[s._v("Unix")]),s._v(" 程序默认向"),a("code",[s._v("stdout")]),s._v(" 输出数据")]),s._v(" "),a("li",[s._v("标准错误文件("),a("code",[s._v("stderr")]),s._v(")："),a("code",[s._v("stderr")]),s._v(" 的文件描述符为 "),a("code",[s._v("2")]),s._v("，"),a("code",[s._v("Unix")]),s._v(" 程序会向 "),a("code",[s._v("stderr")]),s._v(" 流中写入错误信息")])])]),s._v(" "),a("h4",{attrs:{id:"输出重定向"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输出重定向"}},[s._v("#")]),s._v(" 输出重定向")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出重定向到文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"不器小窝：xingcxb.com"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" myfile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出重定向到文件（追加）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"不器小窝：xingcxb.com"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" myfile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令的输出结果重定向到文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" myfile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"输入重定向"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输入重定向"}},[s._v("#")]),s._v(" 输入重定向")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入重定向")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" myfile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入重定向（追加）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" myfile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"here-document"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#here-document"}},[s._v("#")]),s._v(" "),a("code",[s._v("Here Document")])]),s._v(" "),a("p",[a("code",[s._v("Here Document")]),s._v(" 是 "),a("code",[s._v("Shell")]),s._v(" 中的一种特殊的重定向方式，用来将输入重定向到一个交互式 "),a("code",[s._v("Shell")]),s._v(" 脚本或程序")]),s._v(" "),a("p",[s._v("基本语法：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("delimiter\n    document\ndelimiter")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("blockquote",[a("p",[s._v("注意：")]),s._v(" "),a("ul",[a("li",[s._v("结尾的 "),a("code",[s._v("delimiter")]),s._v(" 一定要顶格写，前面不能有任何字符，后面也不能有任何字符，包括空格和 "),a("code",[s._v("tab")]),s._v(" 缩进")]),s._v(" "),a("li",[s._v("开始的 "),a("code",[s._v("delimiter")]),s._v(" 前后的空格会被忽略掉")])])]),s._v(" "),a("h4",{attrs:{id:"dev-null-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dev-null-文件"}},[s._v("#")]),s._v(" "),a("code",[s._v("/dev/null")]),s._v(" 文件")]),s._v(" "),a("p",[a("code",[s._v("/dev/null")]),s._v(" 文件，它也称作空设备，我们可以将不需要的输出重定向到 "),a("code",[s._v("/dev/null")]),s._v(" 文件，例如：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 stdout 和 stderr 合并后重定向到 /dev/null")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"不器小窝：xingcxb.com"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 stdout 和 stderr 合并后重定向到 /dev/null（追加）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"不器小窝：xingcxb.com"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("blockquote",[a("p",[s._v("如果希望某个比较大的日志文件快速清空的话可以考虑采用 "),a("code",[s._v("myfile > /dev/null")]),s._v(" 的方式，这样的话就不会占用磁盘空间了")])]),s._v(" "),a("h3",{attrs:{id:"shell-文件包含-执行外部-shell-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-文件包含-执行外部-shell-文件"}},[s._v("#")]),s._v(" "),a("code",[s._v("Shell")]),s._v(" 文件包含（执行外部 "),a("code",[s._v("Shell")]),s._v(" 文件）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 引入外部文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" ./test.sh\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ./test.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("实战：")]),s._v(" "),a("blockquote",[a("p",[s._v("注意：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("test1.sh")]),s._v(" 和 "),a("code",[s._v("test2.sh")]),s._v(" 在同一个目录下")]),s._v(" "),a("li",[a("code",[s._v("test1.sh")]),s._v(" 如果是被引用执行的可以不需要执行权限，如果是直接执行的需要执行权限")])])]),s._v(" "),a("p",[a("code",[s._v("test1.sh")]),s._v(" 文件内容如下：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://xingcxb.com"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("code",[s._v("test2.sh")]),s._v(" 文件内容如下：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" ./test1.sh\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$url")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ./test1.sh\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$url")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}})],1)}),[],!1,null,null,null);a.default=n.exports}}]);