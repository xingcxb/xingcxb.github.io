(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{595:function(t,e,v){"use strict";v.r(e);var _=v(0),s=Object(_.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"本文由来"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本文由来"}},[t._v("#")]),t._v(" 本文由来")]),t._v(" "),e("p",[t._v("最近摸到了一台"),e("code",[t._v("Dell PowerEdge R620")]),t._v("，它是一台阵列计算机。由于更换了硬盘，所以导致了原由的系统丢失。我是个小白准备尝试安装一下这个服务器，但由于特么的互联网上这类资料很少，所以做个笔记进行记录吧。")]),t._v(" "),e("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),t._v(" "),e("h2",{attrs:{id:"阵列计算机的安装操作系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#阵列计算机的安装操作系统"}},[t._v("#")]),t._v(" 阵列计算机的安装操作系统")]),t._v(" "),e("h3",{attrs:{id:"进入raid系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#进入raid系统"}},[t._v("#")]),t._v(" 进入"),e("code",[t._v("RAID")]),t._v("系统")]),t._v(" "),e("p",[t._v("开机等待，等待系统初始化完成。敲击『回车』进入板载固化配置管理界面，也不知道叫啥玩意，姑且称之为"),e("code",[t._v("RAID")]),t._v("系统吧。")]),t._v(" "),e("h3",{attrs:{id:"raid阵列的创建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#raid阵列的创建"}},[t._v("#")]),t._v(" "),e("code",[t._v("RAID")]),t._v("阵列的创建")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("检查确认硬盘都处于"),e("code",[t._v("Ready")]),t._v("状态，高亮选中需要配置的"),e("code",[t._v("PERC")]),t._v("卡，按"),e("code",[t._v("F2")]),t._v("，在弹出菜单里选择"),e("code",[t._v("Create New VD")]),t._v("来创建新阵列（这里称为"),e("code",[t._v("VD: Virtual Disk")]),t._v("）")]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/1.png",alt:"RAID"}})])])]),t._v(" "),e("li",[e("p",[t._v("创建第一个"),e("code",[t._v("RAID1")]),t._v("阵列：在"),e("code",[t._v("RAID Level")]),t._v("里选择"),e("code",[t._v("RAID-1")]),t._v("，然后在它下面的物理磁盘列表里，选择头两个硬盘("),e("code",[t._v("Disk ID=0, 1")]),t._v(")做"),e("code",[t._v("RAID1")]),t._v("。我们注意到：我们使用的是"),e("code",[t._v("2")]),t._v("个"),e("code",[t._v("300Gb")]),t._v("的硬盘做"),e("code",[t._v("RAID1")]),t._v("，生成的"),e("code",[t._v("VD Size")]),t._v("还是"),e("code",[t._v("278.87GB")]),t._v("，即一块硬盘左右的空间大小。保留默认的条带与缓存设置，选择"),e("code",[t._v("OK")]),t._v("。")]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/2.png",alt:"RAID"}})])])]),t._v(" "),e("li",[e("p",[t._v("系统提示，如果是新创建的"),e("code",[t._v("RAID")]),t._v("阵列，建议在创建后做一次阵列的初始化，这样硬盘上已经存有的用户数据也将会被干净地清除。本示例我们只是想恢复原来清除的"),e("code",[t._v("RAID")]),t._v("配置信息，所以选择"),e("code",[t._v("OK")]),t._v("，接受提示就可以了。如果想做用户数据的清除，请查看。")]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/3.png",alt:"RAID"}})])])]),t._v(" "),e("li",[e("p",[t._v("这样我们就使用和原来一样的两个硬盘"),e("code",[t._v("ID=00,01")]),t._v("，创建好了与原先一样的"),e("code",[t._v("RAID1")]),t._v("阵列。")]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/4.png",alt:"RAID"}})])])]),t._v(" "),e("li",[e("p",[t._v("同样方法，使用原先一样的"),e("code",[t._v("4")]),t._v("块硬盘("),e("code",[t._v("Disk ID=2,3,4,5")]),t._v(")创建"),e("code",[t._v("RAID10")])]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/5.png",alt:"RAID"}})])]),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/6.png",alt:"RAID"}})])]),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/7.png",alt:"RAID"}})])])]),t._v(" "),e("li",[e("p",[t._v("这样，原先清除的两个磁盘阵列又被创建回来了。")])])]),t._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[t._v("警告")]),t._v(" "),e("p",[t._v("清除"),e("code",[t._v("PERC")]),t._v("卡阵列配置信息后，可以使用同样的磁盘，创建同样的磁盘阵列。如果没有做阵列初始化的话，磁盘上的用户数据还是存在的。本例中，服务器原先安装好的"),e("code",[t._v("Windows 2008")]),t._v("操作系统还保存在硬盘上，马上我们就可以服务器重启，进入操作系统。")])]),t._v(" "),e("h3",{attrs:{id:"安装操作系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装操作系统"}},[t._v("#")]),t._v(" 安装操作系统")]),t._v(" "),e("div",{staticClass:"custom-block note"},[e("p",{staticClass:"custom-block-title"},[t._v("笔记")]),t._v(" "),e("p",[t._v("创建"),e("code",[t._v("RAID")]),t._v("阵列的目的是新部署一台服务器，那么建议所有新创建的"),e("code",[t._v("RAID")]),t._v("阵列都应该做初始化操作，这样，硬盘上原有的用户数据将被清除，以便进行后续的系统，软件安装。")])]),t._v(" "),e("ol",[e("li",[t._v("创建了一个新的"),e("code",[t._v("RAID1")]),t._v("阵列，如图（"),e("code",[t._v("Disk Group:1；Virtual Disks ID:2")]),t._v(")，选中该阵列，按"),e("code",[t._v("F2")]),t._v("，在弹出菜单里选择"),e("code",[t._v("Initialization")])])]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/8.png",alt:"RAID"}})])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("选择"),e("code",[t._v("Start Init")]),t._v("将进入阵列初始化，当然，"),e("code",[t._v("Stop Init")]),t._v("可以将初始化过程停止。屏幕右上方可以看到初始化的进度百分比。用户需要等待初始化进程结束，才可以开始使用该阵列。")])]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/9.png",alt:"RAID"}})])]),e("ol",{attrs:{start:"3"}},[e("li",[e("p",[t._v("我们也可以选择"),e("code",[t._v("Fast Init")]),t._v("，我们进入的是后台的阵列初始化过程。这个过程在后台自动进行，对用户是透明的，用户可以重启服务器，可以马上开始使用阵列安装系统及软件。初始化的进程在服务器开机状态下，会继续完成所需的初始化步骤，直至结束。")])]),t._v(" "),e("li",[e("p",[t._v("在阵列初始化结束后，我们还可以对阵列进行检查，这经常是在出现硬件或磁盘告警的时候，确保"),e("code",[t._v("RAID")]),t._v("的完整。")])])]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/10.png",alt:"RAID"}})])]),e("ol",{attrs:{start:"5"}},[e("li",[t._v("删除阵列，如图，就不细说了")])]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/11.png",alt:"RAID"}})])]),e("ol",{attrs:{start:"6"}},[e("li",[e("p",[t._v("插入 U 盘，重启服务器")])]),t._v(" "),e("li",[e("p",[t._v("按"),e("code",[t._v("F11")]),t._v("进入"),e("code",[t._v("Boot Manager")]),t._v("，选择"),e("code",[t._v("BIOS Boot Menu")]),t._v("。")])])]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/12.jpg",alt:"RAID"}})])]),e("ol",{attrs:{start:"8"}},[e("li",[t._v("选择对应的启动盘，按"),e("code",[t._v("Enter")]),t._v("即可进入安装。")])]),t._v(" "),e("h2",{attrs:{id:"centos-7网络配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos-7网络配置"}},[t._v("#")]),t._v(" "),e("code",[t._v("CentOS 7")]),t._v("网络配置")]),t._v(" "),e("ol",[e("li",[t._v("打开终端，使用"),e("code",[t._v("ip addr")]),t._v("命令查看一下网络信息；图中圈出的是系统网络名称，我们稍后会用到它，有的系统是"),e("code",[t._v("ens33")]),t._v("，有的是"),e("code",[t._v("eth0")]),t._v("等")])]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/13.png",alt:"centos7"}})])]),e("ol",{attrs:{start:"2"}},[e("li",[e("p",[t._v("使用"),e("code",[t._v("root")]),t._v("用户，输入命令"),e("code",[t._v("vi /etc/sysconfig/network-scripts/ifcfg-<系统网络名称>")]),t._v("，我的是"),e("code",[t._v("eth33")]),t._v("，所以输入"),e("code",[t._v("vi /etc/sysconfig/network-scripts/ifcfg-ens33")]),t._v("命令")])]),t._v(" "),e("li",[e("p",[t._v("进入"),e("code",[t._v("vi")]),t._v("界面，可以看到，"),e("code",[t._v("ONBOOT")]),t._v("的值是"),e("code",[t._v("no")]),t._v("，改变为"),e("code",[t._v("yes")]),t._v("即可。")])])]),t._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/PowerEdge%20R620/14.png",alt:"centos7"}})])]),e("ol",{attrs:{start:"4"}},[e("li",[t._v("保存后退出，重启系统（可以"),e("code",[t._v("reboot")]),t._v("命令重启）。重启完成后，可以使用浏览器打开个网页看看，也可以使用"),e("code",[t._v("ping")]),t._v("命令测试网络连通性")])])],1)}),[],!1,null,null,null);e.default=s.exports}}]);