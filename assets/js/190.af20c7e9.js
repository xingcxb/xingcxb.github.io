(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{594:function(s,e,t){"use strict";t.r(e);var a=t(0),r=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),e("p",[s._v("最近使用终端的频率越来越高了，已经变成常用的工具了就想着磨合磨合使其变得更加顺手一些，免得用的糟心。")]),s._v(" "),e("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1725717718088510","data-ad-slot":"4281148213"}}),s._v(" "),e("h2",{attrs:{id:"我心中的终端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#我心中的终端"}},[s._v("#")]),s._v(" 我心中的终端")]),s._v(" "),e("ul",[e("li",[s._v("漂亮的界面")]),s._v(" "),e("li",[s._v("高效的自动补全")]),s._v(" "),e("li",[s._v("实用的额外信息")]),s._v(" "),e("li",[s._v("自动推荐")]),s._v(" "),e("li",[s._v("语法高亮")]),s._v(" "),e("li",[s._v("随时唤起")]),s._v(" "),e("li",[s._v("远程时可以直接进行 "),e("code",[s._v("sftp")]),s._v("，在线编辑\n...")])]),s._v(" "),e("blockquote",[e("p",[s._v("本文推荐使用 "),e("code",[s._v("iTerm2")]),s._v(" ，只是因为矮个子里面挑将军这玩意还能凑活着用吧")])]),s._v(" "),e("h2",{attrs:{id:"改造开始"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#改造开始"}},[s._v("#")]),s._v(" 改造开始")]),s._v(" "),e("h3",{attrs:{id:"安装-oh-my-zsh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-oh-my-zsh"}},[s._v("#")]),s._v(" 安装 "),e("code",[s._v("Oh My Zsh")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-fsSL")]),s._v(" https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"主题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主题"}},[s._v("#")]),s._v(" 主题")]),s._v(" "),e("p",[s._v("以 "),e("code",[s._v("Powerlevel10k")]),s._v(" 为例")]),s._v(" "),e("h4",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--depth")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" https://gitee.com/romkatv/powerlevel10k.git "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ZSH_CUSTOM"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("~"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(".oh-my-zsh"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("custom}")]),s._v("/themes/powerlevel10k\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),e("ul",[e("li",[s._v("在 "),e("code",[s._v("zsh")]),s._v(" 的配置文件 "),e("code",[s._v("~/.zshrc")]),s._v(" 中设置 "),e("code",[s._v('ZSH_THEME="powerlevel10k/powerlevel10k"')]),s._v("。配置完成后重启 "),e("code",[s._v("shell")]),s._v(" 客户端即可看到效果")]),s._v(" "),e("li",[s._v("重启后会提示进行配置，按照提示进行配置即可")])]),s._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/shell%E7%BE%8E%E5%8C%961.png",alt:"shell美化"}})])]),e("blockquote",[e("p",[s._v("如果遭遇网络问题不要慌，把终端的网络配置一下，然后再执行下面两个命令即可")])]),s._v(" "),e("ul",[e("li",[s._v("执行 "),e("code",[s._v("echo 'POWERLEVEL9K_DISABLE_CONFIGURATION_WIZARD=true' >>! ~/.zshrc")])]),s._v(" "),e("li",[s._v("执行 "),e("code",[s._v("p10k configure")]),s._v(" 重新配置")]),s._v(" "),e("li",[s._v("执行完毕后按提示重启终端")])]),s._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/shell%E7%BE%8E%E5%8C%962.png",alt:"shell美化"}})])]),e("ul",[e("li",[s._v("重启终端后再次执行 "),e("code",[s._v("pk10k configure")]),s._v(" 进行显示上面的配置")]),s._v(" "),e("li",[s._v("会先问一堆图案像不像的问题，如果不像的话就说明字体没有安装成功，重新安装即可")])]),s._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/shell%E7%BE%8E%E5%8C%963.png",alt:"shell美化"}})])]),e("ul",[e("li",[s._v("图案显示问题问完后就是终端命令的显示问题了，按照自己的喜好进行配置即可")])]),s._v(" "),e("div",{staticClass:"center-container"},[e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/shell%E7%BE%8E%E5%8C%964.png",alt:"shell美化"}})])]),e("h4",{attrs:{id:"配置其它-app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置其它-app"}},[s._v("#")]),s._v(" 配置其它 "),e("code",[s._v("App")])]),s._v(" "),e("ul",[e("li",[e("code",[s._v("iTerm2")]),s._v("："),e("code",[s._v("Preferences")]),s._v(" -> "),e("code",[s._v("Profiles")]),s._v(" -> "),e("code",[s._v("Text")]),s._v(" -> "),e("code",[s._v("Font")]),s._v(" -> "),e("code",[s._v("Change Font")]),s._v(" -> "),e("code",[s._v("MesloLGS NF")])]),s._v(" "),e("li",[e("code",[s._v("vs code")]),s._v("："),e("code",[s._v("Preferences")]),s._v(" -> "),e("code",[s._v("Settings")]),s._v(" -> "),e("code",[s._v("Terminal › Integrated: Font Family")]),s._v(" -> "),e("code",[s._v("MesloLGS NF")])]),s._v(" "),e("li",[e("code",[s._v("JetBrains")]),s._v(" 系列："),e("code",[s._v("Preferences")]),s._v(" -> "),e("code",[s._v("Editor")]),s._v(" -> "),e("code",[s._v("Color Scheme")]),s._v(" -> "),e("code",[s._v("Console Font")]),s._v(" -> "),e("code",[s._v("MesloLGS NF")])])]),s._v(" "),e("h3",{attrs:{id:"插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#插件"}},[s._v("#")]),s._v(" 插件")]),s._v(" "),e("blockquote",[e("p",[s._v("如果想看 "),e("code",[s._v("Oh-my-zsh")]),s._v(" 自带那些插件，也可以 "),e("code",[s._v("Web")]),s._v(" 上查看："),e("a",{attrs:{href:"https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins"),e("OutboundLink")],1)])]),s._v(" "),e("blockquote",[e("p",[s._v("配置插件的时候基本上是在 "),e("code",[s._v("~/.zshrc")]),s._v(" 文件中找到 "),e("code",[s._v("plugins=(git)")]),s._v(" 这一行，然后在 "),e("code",[s._v("git")]),s._v(" 后面加上需要的插件即可")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xingcxb/blog_img@blog1/%E5%B7%A5%E5%85%B7/%E7%B3%BB%E7%BB%9F%E5%B7%A5%E5%85%B7/shell%E7%BE%8E%E5%8C%965.png",alt:"shell美化"}})])]),s._v(" "),e("ul",[e("li",[e("p",[e("code",[s._v("autojump")]),s._v("：自动跳转到指定目录，使用 "),e("code",[s._v("j")]),s._v(" 命令")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("brew "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" autojump\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("zsh-autosuggestions")]),s._v("：自动补全，使用 "),e("code",[s._v("Tab")]),s._v(" 键")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/zsh-users/zsh-autosuggestions "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ZSH_CUSTOM"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("~"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(".oh-my-zsh"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("custom}")]),s._v("/plugins/zsh-autosuggestions\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("zsh-syntax-highlighting")]),s._v("：语法高亮")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/zsh-users/zsh-syntax-highlighting.git "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ZSH_CUSTOM"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("~"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(".oh-my-zsh"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("custom}")]),s._v("/plugins/zsh-syntax-highlighting\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"错误经验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误经验"}},[s._v("#")]),s._v(" 错误经验")]),s._v(" "),e("h4",{attrs:{id:"insecure-completion-dependent-directories-detected"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#insecure-completion-dependent-directories-detected"}},[s._v("#")]),s._v(" "),e("code",[s._v("Insecure completion-dependent directories detected")])]),s._v(" "),e("div",{staticClass:"language-shelll line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('[oh-my-zsh] Insecure completion-dependent directories detected:\ndrwxrwxrwx  7 symbol  admin  224 10 17  2022 /opt/homebrew/share/zsh\ndrwxrwxrwx  6 symbol  admin  192  1 31 14:53 /opt/homebrew/share/zsh/site-functions\n\n[oh-my-zsh] For safety, we will not load completions from these directories until\n[oh-my-zsh] you fix their permissions and ownership and restart zsh.\n[oh-my-zsh] See the above list for directories with group or other writability.\n\n[oh-my-zsh] To fix your permissions you can do so by disabling\n[oh-my-zsh] the write permission of "group" and "others" and making sure that the\n[oh-my-zsh] owner of these directories is either root or your current user.\n[oh-my-zsh] The following command may help:\n[oh-my-zsh]     compaudit | xargs chmod g-w,o-w\n\n[oh-my-zsh] If the above didn\'t help or you want to skip the verification of\n[oh-my-zsh] insecure directories you can set the variable ZSH_DISABLE_COMPFIX to\n[oh-my-zsh] "true" before oh-my-zsh is sourced in your zshrc file.\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br")])]),e("p",[s._v("这个错误是因为 "),e("code",[s._v("zsh")]),s._v(" 的安全机制导致的，解决办法如下：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁用组用户和其他用户的写入权限")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" g-w,o-w /opt/homebrew/share/zsh /opt/homebrew/share/zsh/site-functions\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将所有者设置为当前用户")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("whoami")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" /opt/homebrew/share/zsh /opt/homebrew/share/zsh/site-functions\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])],1)}),[],!1,null,null,null);e.default=r.exports}}]);