---
title: Vue3ç»éªŒ
date: 2022-11-21 13:55:21
permalink: /language/vue/ba496f/
categories:
  - å‰ç«¯
  - Vue
tags:
  - Vue3
  - ç»éªŒ
  - è·¯å¾„ä½¿ç”¨@
  - axiosè·¨åŸŸ
  - yesicon
  - iconify
---

## å‰è¨€

æ‚ä¸ƒæ‚å…«çš„å°æŠ€å·§å¤ªç‰¹ä¹ˆå¤šäº†ï¼Œå°±ä¸€ç¯‡æ–‡ç« å¤šå¤šè®°å½•å§ ğŸ¶

<!-- more -->

<InArticleAdsense
    data-ad-client="ca-pub-1725717718088510"
    data-ad-slot="4281148213">
</InArticleAdsense>

## `Vue3+Vite`é…ç½®è·¯å¾„ä½¿ç”¨åˆ«å`@`

1. å®‰è£…`@types/node`

   ```shell
   # å®‰è£…@types/node
   npm install @types/node --save-dev
   ```

2. ä¿®æ”¹`vite.config.js`ï¼Œä¹Ÿä¸çŸ¥é“å’‹æè¿°ï¼Œå¯¹ç€ä¸‹é¢çš„æŠ„å§ï¼Œæˆ‘æ˜¯æ–°æ‰‹å®‰å¿ƒé£Ÿç”¨

   ```js
   import { defineConfig } from "vite";
   import vue from "@vitejs/plugin-vue";
   // ğŸ‘‡è¿™æ˜¯æ–°å¢çš„
   import path from "path"; //è¿™ä¸ªpathç”¨åˆ°äº†ä¸Šé¢å®‰è£…çš„@types/node

   export default defineConfig({
     plugins: [vue()],
     // ğŸ‘‡è¿™æ˜¯æ–°å¢çš„
     resolve: {
       alias: {
         "@": path.resolve("./src"), // @ä»£æ›¿src
       },
     },
   });
   ```

## `Vue3+Vite`å…¨å±€ä½¿ç”¨`axios`ï¼Œè§£å†³`axios`è·¨åŸŸé—®é¢˜

1. å®‰è£…`axios`

   ```shell
       npm i axios --save
   ```

2. åœ¨`main.js`ä¸­å¼•å…¥`axios`

   ```shell
       import { createApp } from "vue";
       import App from "./App.vue";
       // ğŸ‘†çš„ä¸ç”¨ç®¡
       // å¼•å…¥axios
       import axios from "axios";

       const app = createApp(App);

       app.config.globalProperties.$http = axios;
       app.mount("#app");
   ```

3. ã€è§£å†³è·¨åŸŸã€‘ä¿®æ”¹`vite.config.js`

   ```js
       import { defineConfig } from "vite";
       import vue from "@vitejs/plugin-vue";

       // https://vitejs.dev/config/
       export default defineConfig({
       plugins: [vue()],
       server: {
           proxy: {
               <!-- æ­¤å¤„çš„/apiæ˜¯å–çš„åˆ«åï¼Œç­‰åŒä¸ä¸‹é¢çš„targetè·¯å¾„ï¼Œåœ¨å®é™…ä¸­ä½¿ç”¨çš„ä½¿ç”¨/api/ -->
               "/api": {
                   target: "http://127.0.0.1:8088/test/api", //å®é™…è¯·æ±‚åœ°å€
                   <!-- è¿™é‡Œç®—æ˜¯å¤„ç†è·¨åŸŸçš„æ ¸å¿ƒ -->
                   changeOrigin: true,
                   rewrite: (path) => path.replace(/^\/api/, ""),
               },
           },
       },
       });
   ```

4. ä½¿ç”¨

   ```js
       <!-- æˆ‘æœåŠ¡ç«¯çš„å®é™…è·¯å¾„ä¸º http://127.0.0.1:8088/test/api/general/getUser -->
       import { getCurrentInstance } from "vue";
       const instance = getCurrentInstance();
       const axiosInstance = instance.proxy.$axios;
       function getOrderList() {
           // ä¸´æ—¶é»˜è®¤ä¸º1000004
           axiosInstance.get("/api/general/getUser").then((response) => {
               console.log(response);
           });
       }
   ```

## ä½¿ç”¨`<script setup>`æ—¶å¦‚ä½•ä½¿ç”¨`onMounted`

```javascript
<script setup>
  import {onMounted} from "vue" function GNews() {console.log("1111")}
  onMounted(()=>{GNews()})
</script>
```

## `Vue`ä¸­`href`çš„é“¾æ¥æ‹¼æ¥

```javascript
// 1. ä½¿ç”¨:hrefè€Œä¸æ˜¯href
// 2. å¤–éƒ¨çš„åŒå¼•å·åªæ˜¯è¯­æ³•æ ¼å¼
<a :href="'https://www.juliangip.com/news/'+obj.id+'.html'"></a>
```

## `elementui`ä¸­`el-radio`ä¸æ‰§è¡Œ`@click`

å°†`@click`å˜æ›´ä¸º`@click.native`

## `elementui`ä¸­`el-radio-group`å†…éƒ¨çš„`el-radio`å€¼æ”¹å˜å¦‚ä½•ä¼ å€¼

```javascript
@change="((label)=>{changeValue(label, item, index)})"
```

## `Vue3` ä½¿ç”¨ `iconify`

> `yesicon` æ˜¯åŸºäº `iconify` åšçš„å¯è§†åŒ–é¡µé¢ï¼Œæ‰€ä»¥ `yesicon` ä¹Ÿå‚è€ƒè¿™ä¸ªæ¥å¤„ç†å³å¯

1. å…ˆå®‰è£… `@iconify/vue` ï¼Œ`web` æ ¹ç›®å½•ä¸‹è¿è¡Œ `npm install --save-dev @iconify/vue` æˆ– `yarn add --dev @iconify/vue`
2. è°ƒç”¨

   ```vue
   <template>
     <Icon icon="mdi:home" style="font-size: 24px;" />
   </template>
   <script setup>
   import {Icon} from "@iconify/vue";
   ...
   </script>
   ```

## `Vue3` ä¸­ä½¿ç”¨ `v-model` å’Œ `v-model:value` çš„åŒºåˆ«

`v-model` çš„æœºåˆ¶æ˜¯ï¼š

1. ç»‘å®š `value` ä¸ºçˆ¶ç»„ä»¶ä¼ å…¥çš„å€¼
2. è§¦å‘ `update` äº‹ä»¶å°†å€¼å›ä¼ ç»™çˆ¶ç»„ä»¶

å½“ä½ åœ¨ä½¿ç”¨ç±»ä¼¼ `...formValue` æ¥è·å–æ•´ä¸ª `form` çš„å€¼æ—¶ï¼Œ`v-model` ä¼šå°†æ•´ä¸ª `form` çš„å€¼ä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼Œè€Œ `v-model:value` åªä¼šå°†å½“å‰ `input` çš„å€¼ä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨ `v-model` æ—¶ï¼Œéœ€è¦æ³¨æ„è¿™ä¸€ç‚¹ã€‚

## `Vue3` ä¸­ä½¿ç”¨ `TS` æ—¶ï¼Œ`JB` ç¼–è¾‘å™¨æç¤ºæ‰¾ä¸åˆ°æ–‡ä»¶

åœ¨ `vite-env.d.ts` æ–‡ä»¶ä¸­ï¼Œå†™å…¥ä»¥ä¸‹ä»£ç 

```TS
declare module '*.vue' {
  import type { DefineComponent } from 'vue'
  const component: DefineComponent<{}, {}, any>
  export default component
}
```

## `Vue3` ä¸­å¦‚ä½•ä½¿ç”¨ `router`

- å…ˆå®‰è£…

  ```shell
    yarn add vue-router@4
  ```

- å¯¼å…¥ `router`ï¼Œåœ¨ `main.ts` æ–‡ä»¶ä¸­æ–°å¢ï¼Œ**æˆ‘å½“å‰çš„æ–‡ä»¶åœ¨ `src/router` ç›®å½•ä¸‹**

  ```TS
  import router from './router'

  const app = createApp(App)
  app.use(router)
  app.mount('#app')
  ```

- æ–°å¢ `router` çš„ `ts`

  ```TS
  import {createRouter, createWebHistory, type RouteRecordRaw} from "vue-router";

  const routes: Array<RouteRecordRaw> = [
      {
          path: '/',
          name: 'Home',
          component: () => import("../components/Home.vue")
      },
      {
          path: '/about',
          name: 'About',
          component: () => import("../components/About.vue")
      }
  ]

  const router = createRouter({
      history: createWebHistory(),
      routes
  })

  export default router
  ```

- ä¿®æ”¹ `App.vue`ï¼Œå°†å¼•ç”¨çš„é¡µé¢æ›¿æ¢ä¸º `<RouterView/>`

  ```Vue
  <template>
    <RouterView/>
  </template>
  ```

## `Vue3` ä¸­å¦‚ä½•ä½¿ç”¨ `@`

æˆ‘åœ¨ä½¿ç”¨ [`yarn` åˆ›å»ºé¡¹ç›®](https://xingcxb.com/dev/1182bc/#å¦‚ä½•åˆ›å»ºä¸€ä¸ªVueé¡¹ç›®)åï¼Œä½¿ç”¨ `WebStorm` å¼€å‘é¡¹ç›®æ—¶ï¼Œ`@` ç¬¦å·ä¸€ç›´ä½¿ç”¨å¤±è´¥ï¼Œå°è¯•äº†åŠå¤©æ‰è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé¡ºæ‰‹è®°å½•ä¸‹æ¥å§

1. åˆ›å»ºå®Œé¡¹ç›®åï¼Œè¿›å…¥é¡¹ç›®çš„æ ¹ç›®å½•åˆ é™¤ `tsconfig.app.json`ã€`tsconfig.node.json`

2. ä¿®æ”¹ `tsconfig.json`ï¼Œä»£ç å¦‚ä¸‹ï¼š

   ```ts
   {
     "compilerOptions": {
       "target": "ESNext",
       "module": "ESNext",
       "moduleResolution": "Node",
       "strict": true,
       "jsx": "preserve",
       "resolveJsonModule": true,
       "isolatedModules": true,
       "esModuleInterop": true,
       "baseUrl": ".",
       "paths": {
         "@/*": ["src/*"]
       },
       "lib": ["ESNext", "DOM"]
     },
     "include": ["src"]
   }
   ```

3. ä¿®æ”¹ `vite.config.ts`ï¼Œæ·»åŠ  `resolve` é…ç½®ï¼š

```ts
export default defineConfig({
  plugins: [vue()],
  // æ–°å¢çš„
  resolve: {
    alias: {
      "@": "/src",
    },
  },
});
```
