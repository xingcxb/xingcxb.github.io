---
title: navie-uiç»éªŒ
date: 2022-11-18 16:45:00
permalink: /language/ui/159dec/
categories:
  - å‰ç«¯
  - navie-ui
tags:
  - naive-ui
  - åŸºç¡€
  - naiveUI ç»éªŒ
---

## å‰è¨€

`naive-ui`çš„æ ·å¼æ·±å¾—æˆ‘å¿ƒï¼Œå¼€å§‹å°è¯•é¡ºæ‰‹è®°å½•

<!-- more -->

<InArticleAdsense
    data-ad-client="ca-pub-1725717718088510"
    data-ad-slot="4281148213">
</InArticleAdsense>

## æ …æ ¼ -- `grid`

[æ …æ ¼`Grid`](https://www.naiveui.com/zh-CN/os-theme/components/grid)

### æ …æ ¼å¦‚ä½•ä½¿å†…å®¹å…¶å±…ä¸­

```vue
<n-grid :cols="4" item-style="justify-self:center;">
  <n-gi>
    1
  </n-gi>
  <n-gi>
    2
  </n-gi>
  <n-gi>
    3
  </n-gi>
  <n-gi>
    4
  </n-gi>
</n-grid>
```

## æ•°æ®è¡¨æ ¼ -- `Data Table`

[è¡¨æ ¼`Table`<Badge text="ç®€å•è¡¨æ ¼" type="error" />](https://www.naiveui.com/zh-CN/os-theme/components/table)

[æ•°æ®è¡¨æ ¼`Data Table`](https://www.naiveui.com/zh-CN/os-theme/components/data-table)

### å¦‚ä½•å°†å¼‚æ­¥æ•°æ®å¡å…¥åˆ°è¡¨æ ¼ä¸­

åœ¨`<n-data-table>`ä¸­æ·»åŠ å±æ€§`data`ï¼Œå°†ä¸Šæ¸¸è¿”å›çš„å€¼æ”¾å…¥åˆ°`data`ä¸­å³å¯

```html
<n-data-table remote ref="table" :data="data"> </n-data-table>

<script setup>
  // è¡¨æ ¼å¤´éƒ¨
  var columns = [
    {
      title: "ç¬¬ä¸€åˆ—",
      key: "test1",
    },
    {
      title: "ç¬¬äºŒåˆ—",
      key: "test2",
    },
  ];
  var data = ref([]);
  proxy
    .$http({
      method: "POST",
      url: "/api/general/getOrders",
      params: formValue.value,
    })
    .then((response) => {
      var responseData = response.data;
      if (responseData.state !== "ok") {
        // è¿”å›é”™è¯¯ä¿¡æ¯
        return;
      } else {
        data.value = responseData.data.list;
      }
    });
</script>
```

> å…³äº`proxy`è¯·æ±‚çš„å†™æ³•å‚è€ƒ[Vue3+Vite å…¨å±€ä½¿ç”¨ axiosï¼Œè§£å†³ axios è·¨åŸŸé—®é¢˜](https://xingcxb.com/front/vue/ba496f/#vue3-vite%E5%85%A8%E5%B1%80%E4%BD%BF%E7%94%A8axios-%E8%A7%A3%E5%86%B3axios%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98)

### `Data Table` å®ç°åˆ†é¡µ

> ä»£ç å—ä¸­çš„ search() åœ¨ [åˆ†é¡µå’Œ `form` æœç´¢è¿›è¡Œå…³è”](#åˆ†é¡µå’Œ-form-æœç´¢è¿›è¡Œå…³è”) ä¸­æœ‰è¯¦ç»†çš„è¯´æ˜

```vue
<n-pagination
  v-model:page="tablePage"
  :item-count="tableTotalCount"
  :page-sizes="[20, 30, 40, 50, 100]"
  show-size-picker
  @update-page="handlePageChange"
  @update-page-size="handlePageSizeChange"
>
  <template #prefix="{ itemCount }">
    <span>å…± {{ itemCount }} æ¡æ•°æ®</span>
  </template>
</n-pagination>

function handlePageChange(page) { tablePage.value = page; search(); } function
handlePageSizeChange(newPageSize) { tablePageSize.value = newPageSize; search();
}
```

#### åˆ†é¡µå’Œ `form` æœç´¢è¿›è¡Œå…³è”

ç›®å‰ç”¨çš„æ˜¯ `hotgo` æ‰€ä»¥ä¸‹é¢ä»£ç çš„å®ç°ä¾æ‰˜äº† `hotgo` çš„ `API`ï¼Œå¦‚æœè‡ªå·±å†™çš„è¯ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„ä»£ç è¿›è¡Œæ›¿æ¢å³å¯

```vue
// è¡¨æ ¼æ•°æ® let tableData = ref([]); // åˆ†é¡µæ•°æ®â€”â€”å½“å‰é¡µç  let tablePage =
ref(1); // åˆ†é¡µæ•°æ®â€”â€”æ€»é¡µæ•° let tablePageCount = ref(0); // åˆ†é¡µæ•°æ®â€”â€”æ€»æ¡æ•° let
tableTotalCount = ref(0); // åˆ†é¡µæ•°æ®â€”â€”æ¯é¡µæ¡æ•° let tablePageSize = ref(20); //
æœç´¢æŒ‰é’® async function search() { const response = await
List({...formValue,page: tablePage.value,pageSize: tablePageSize.value});
console.log("====>", response) tableData.value = response.list; tablePage.value
= response.page; tablePageCount.value = response.pageCount;
tableTotalCount.value = response.totalCount; }
```

### `Data Table` å®ç° `columns` è‡ªå®šä¹‰æ¸²æŸ“

::: tip
`naive-ui` ä¸­çš„æ¸²æŸ“æ˜¯é‡‡ç”¨ `render` å‡½æ•°æ¥å®ç°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ `render` å‡½æ•°ä¸­è¿›è¡Œè‡ªå®šä¹‰æ¸²æŸ“ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç åŸºæœ¬ä¸Šå›Šæ‹¬äº†å¤§éƒ¨åˆ†éœ€æ±‚
:::

```js
const tableColumns = [{
    title: 'å®åçŠ¶æ€',
    key: 'verifyStatus',
    render(record) {
        let tagType: string = '';
        let tagText = '';
        switch (record.verifyStatus) {
        case 0:
            tagType = 'default';
            tagText = 'æœªå®å';
            break;
        case 1:
            tagType = 'success';
            tagText = 'å·²å®å';
            break;
        case 2:
            tagType = 'warning';
            tagText = 'è®¤è¯ä¸­';
            break;
        case 3:
            tagType = 'info';
            tagText = 'å‡çº§';
            break;
        default:
            tagType = 'error';
            tagText = 'è®¤è¯å¤±è´¥';
        }
        return h(NTag, {
            type: tagType
        },
        {
        default:
            () = >tagText
        })
    }
},
{
    title: 'å­˜æ´»ä¸šåŠ¡',
    render(record) {
        if (record.ext.liveTradeNos.indexOf(",") > 0) {
            let liveTradeNos = record.ext.liveTradeNos.split(",");
            return h(NPopover, {
                trigger: 'hover',
                placement: 'top',
            },
            {
                trigger: () = >h('span', record.ext.liveTradeNos.split(",")[0] + '...'),
            default:
                () = >liveTradeNos.map(tradeNo = >h('p', tradeNo))
            })
        } else {
            return record.ext.liveTradeNos
        }
    },
},
{
    title: 'å›è®¿æ—¶é—´/å¤‡æ³¨',
    render(record) {
        let showBackCallRemark = record.ext.remark
        if (showBackCallRemark.length > 10) {
            showBackCallRemark = record.ext.remark.substring(0, 10) + "..."
        }
        return h(NFlex, {
            vertical: true,
            justify: 'center'
        },
        {
        default:
            () = >[h(NTag, {
                type: 'info',
                style: {
                    width: '185px'
                }
            },
            record.ext.backCallTime), h(NTag, {
                type: 'info',
                style: {
                    width: '185px'
                }
            },
            {
            default:
                () = >[h(NPopover, {
                    trigger: 'hover',
                    placement: 'top',
                },
                {
                    trigger: () = >h('span', showBackCallRemark),
                default:
                    () = >h('p', record.ext.remark)
                })]
            }), ],
        });
    },
},
{
    title: '(åˆ›å»º/æœ€è¿‘ç™»å½•)æ—¶é—´',
    render(record) {
        return h(NFlex, {
            vertical: true,
            justify: 'center'
        },
        {
        default:
            () = >[h(NTag, {
                type: 'info',
                style: {
                    width: '150px'
                }
            },
            record.createTime), h(NTag, {
                type: 'info',
                style: {
                    width: '150px'
                }
            },
            record.lastloginTime), ],
        });
    },
}]
```

## ä¿¡æ¯ `Message`

[ä¿¡æ¯`Message`](https://www.naiveui.com/zh-CN/os-theme/components/message)

### å¦‚ä½•ä½¿ç”¨`Naive-ui`çš„`Message`

ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™å‡ºç°ä¸€ä¸¢ä¸¢é—®é¢˜ï¼Œæˆ‘åœ¨`<script setup>...</script>`ä¸­ç›´æ¥å£°æ˜`const message = useMessage();`ç„¶åä½¿ç”¨ï¼Œç»“æœæç¤º

```log
Uncaught (in promise) Error: [naive/use-message]: No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A.
```

æ­¤åˆ»ä¸ºæ­¢ï¼Œå°ç™½çš„æˆ‘è¿˜æ˜¯ä¸çŸ¥é“æ˜¯å•¥åŸå› ï¼Œå°±æˆ‘åˆå­¦è€…çš„æƒ³æ³•å°±æ˜¯ï¼Œæˆ‘åœ¨å½“å‰çš„`vue`æ–‡ä»¶ä¸­å¼•å…¥äº†è¿™ä¸ªç»„ä»¶å¹¶å®Œæˆäº†åˆå§‹åŒ–åï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥ä½¿ç”¨å®ƒï¼Œç»“æœæˆ‘æœç„¶æ˜¯åˆå­¦è€…çš„æ€ç»´ ğŸ˜‚ã€‚äºæ˜¯æœäº†æœï¼Œçœ‹åˆ°ä½œè€…é’ˆå¯¹è¿™ä¸ªç»„ä»¶çš„å›ç­”:[naive-ui/issues](https://github.com/tusen-ai/naive-ui/issues/225)ï¼Œçœ‹äº†åŠå¤©è¿˜æ˜¯ä¸æ˜è§‰å‰ã€‚äºæ˜¯æˆ‘å†³å®šé‡‡ç”¨å¤§å®¶çš„æ“ä½œæ–¹æ¡ˆæ˜¯é‡‡ç”¨å…¨å±€æŒ‚è½½æ¥å®Œæˆï¼Œåæ­£åˆ°å¤„éƒ½è¦ç”¨ï¼Œé—®é¢˜ä¹Ÿä¸å¤§ã€‚

#### å¹²è´§

1. åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶ç”¨æ¥æŒ‚è½½å…¨å±€æ–¹æ³•ï¼Œåå­—ä¸é‡è¦ï¼›æˆ‘çš„æ˜¯`Message.vue`

```html
<template>
  <div></div>
</template>

<script setup>
  import { useDialog, useMessage } from "naive-ui";

  window.$message = useMessage();
  window.$dialog = useDialog();
</script>
```

2. ä¿®æ”¹`App.vue`æ–‡ä»¶ï¼Œåœ¨åº•éƒ¨æ·»åŠ ä»¥ä¸‹ä»£ç 

```html
<template>
  ...
  <n-message-provider>
    <n-dialog-provider>
      <Message />
    </n-dialog-provider>
  </n-message-provider>
</template>
<script setup>
  import { NMessageProvider, NDialogProvider } from "naive-ui";
  ...
</script>
```

3. ä½¿ç”¨ï¼Œç›´æ¥åœ¨è¦ä½¿ç”¨æ¶ˆæ¯çš„æ–‡ä»¶ä¸­å†™å…¥ä¸‹é¢ä»£ç 

```javascript
window.$message.error("123");
```

## å¸ƒå±€ -- `Layout`

### ä½¿ç”¨`Layout`å¸ƒå±€æ—¶`content`è¿‡é•¿å‡ºç°çš„æ»šåŠ¨æ¡å¯¼è‡´æ•´ä¸ªé¡µé¢è¢«æ‹–åŠ¨

è§£å†³æ–¹æ¡ˆï¼šç»™`content`åŠ ä¸Šä¸€ä¸ªé«˜åº¦å³å¯

## `NIcon` å¦‚ä½•ä½¿ç”¨ [`yesicon`](https://yesicon.app/)

æ¨èå‡ ä¸ªæ¯”è¾ƒç²¾ç¾çš„ `icon` å§

- [hugeicons](https://yesicon.app/hugeicons)<Badge text="ç²¾" type="error"/>
- [line-md](https://yesicon.app/line-md)<Badge text="åŠ¨"/>
- [ic](https://yesicon.app/ic)<Badge text="å…¨"/>
- [devicon](https://yesicon.app/devicon)<Badge text="å“ç‰ŒÂ·å½©"/>
- [devicon-plain](https://yesicon.app/devicon-plain)<Badge text="å“ç‰ŒÂ·é»‘ç™½"/>

> æ³¨æ„ï¼šå¿…é¡»è¦åœ¨ `icon` å’Œ `n-icon` åŒæ—¶è®¾ç½®å¤§å°ï¼Œå¦åˆ™ä¼šå‡ºç°åç§»çš„é—®é¢˜

```vue
<n-button circle :bordered="false">
  <!--   è®¾ç½®     -->
  <template #icon>
    <n-icon size="30">
      <Icon icon="hugeicons:setting-07" style="font-size: 30px;"/>
    </n-icon>
  </template>
</n-button>
```

## é”™è¯¯é›†åˆ

### `page-count and item-count should't be specified together. Only item-count will take effect.`

è¿™æ˜¯å› ä¸º `item-count` å’Œ `page-count` ä¸èƒ½åŒæ—¶å­˜åœ¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚æˆ‘æ˜¯åœ¨ä½¿ç”¨ `pagination` å‡ºç°çš„ï¼Œç›´æ¥åˆ é™¤ `page-count` å³å¯
