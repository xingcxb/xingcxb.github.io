---
title: viper
date: 2025-08-06 15:51:55
permalink: /language/go/17e599/
categories:
  - 语言
  - GoLang
  - 第三方库
tags:
  - viper
  - go
  - 不器
  - 不器小窝
---

## `viper` 库简介

`Viper` 是一套完整的 `Go` 应用程序配置解决方案。它专为应用程序内部使用而设计，能够处理各种类型的配置需求和格式。说人话就是，处理配置文件，方便开发人员快速配置应用程序。

<!-- more -->

<InArticleAdsense
    data-ad-client="ca-pub-1725717718088510"
    data-ad-slot="4281148213">
</InArticleAdsense>


## 开源地址

[spf13/viper](https://github.com/spf13/viper)

## 文档

[spf13/viper](https://github.com/spf13/viper)

## 快速上手

### 安装

```bash
go get github.com/spf13/viper
```

### 使用

```go
// 读取配置文件
func HandlerConfig() {
	viper.SetConfigFile("filePath/abc.yaml")
	err := viper.ReadInConfig()
	if err != nil {
		// 配置文件读取失败，程序关闭
		panic(err)
	}
}

// 读取配置项
func ReadConfig() interface{} {
	// 假设内容为：
	// app:
	//   type: dev
	key := "app.type"
	return viper.Get(key)
}

// 设置配置项
func SetConfig(key string, value interface{}) {
	viper.SetConfigFile("filePath/abc.yaml")
	// 读取配置文件，避免viper认为更新的数据就是完整的数据，导致将之前的数据覆盖了
	_ = viper.ReadInConfig()
	viper.Set(k, v)
	err := viper.WriteConfig()
	if err != nil {
		// 配置文件写入失败，程序关闭
		panic(err)
	}
}
```
