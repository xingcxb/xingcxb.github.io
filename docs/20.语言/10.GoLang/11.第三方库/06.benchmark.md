---
title: benchmark
date: 2024-05-02 16:54:14
permalink: /language/go/ed8c89/
categories:
  - è¯­è¨€
  - GoLang
  - ç¬¬ä¸‰æ–¹åº“
tags:
  - benchmark
  - cnlh/benchmark
  - cnlh/benchmark æ•™ç¨‹
  - cnlh/benchmark å¦‚ä½•ä½¿ç”¨
---

## ğŸª½ `benchmark` åº“ç®€ä»‹

ä¸€ä¸ªç”¨ `golang` å®ç°çš„ç®€å•åŸºå‡†æµ‹è¯•å·¥å…·ï¼Œå…·æœ‰ä¸€äº›å°åŠŸèƒ½ã€‚æœ€è¿‘å› ä¸ºè¦é€‚é…è¾¹ç¼˜è®¾å¤‡ï¼Œå¯¼è‡´æ•´ä¸ªç¨‹åºçš„åŒ…è¦å‹ç¼©åˆ° `5M` å†…ï¼Œç›®å‰å†™çš„å·®ä¸å¤šäº†ï¼Œå°±æ˜¯ç‰¹ä¹ˆçš„æŒ‡çº¹æµè§ˆå™¨åœ¨ `socks5` ä¸Šé¢ä¸æ ‡å‡†ï¼Œå¯¼è‡´æˆ‘åœ¨è¿™é‡Œå¡äº† `2` å¤©ï¼Œäºæ˜¯æƒ³æ¢æ¢è„‘å­ï¼Œå°±ç»™ç¨‹åºåšä¸ªå‹åŠ›æµ‹è¯•ï¼Œè°·æ­Œä¸€æœæ¨èçš„éƒ½æ˜¯ `google/benchmark` è¿™ä¸ªï¼Œç®€å•çœ‹çœ‹æ²¡æœ‰ `socks5` çš„å‹åŠ›æµ‹è¯•ï¼Œæ‰€ä»¥ç´¢æ€§æ”¾å¼ƒäº†ã€‚åé¢å†æ‰¾çš„æ—¶å€™æ‰¾åˆ°äº† `cnlh/benchmark` è¿™ä¸ªåº“ï¼Œå¼€å§‹ç”¨çš„æ—¶å€™ä¹Ÿæ˜¯æ‡µçš„ï¼Œç´¢è«æ–¯

<!-- more -->

<InArticleAdsense
    data-ad-client="ca-pub-1725717718088510"
    data-ad-slot="7426219401">
</InArticleAdsense>

## å¼€æºåœ°å€

[cnlh/benchmark](https://github.com/cnlh/benchmark)

## å¿«é€Ÿä¸Šæ‰‹

### å®‰è£…

åœ¨[cnlh/benchmark](https://github.com/cnlh/benchmark/releases) ä¸Šæ‰¾åˆ°å¯¹åº”çš„ç³»ç»Ÿä¸‹è½½ä¸‹æ¥ï¼Œç„¶åå°†äºŒè¿›åˆ¶æ–‡ä»¶å¤åˆ¶åˆ° `/usr/local/go/bin` ç›®å½•ä¸‹ï¼Œç„¶åå°±å¯ä»¥åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ `benchmark` å‘½ä»¤äº†ã€‚

### ä½¿ç”¨

#### å‘½ä»¤å‚æ•°è¯´æ˜

```shell script
    -b string
      	è¯·æ±‚æ­£æ–‡
    -c int
      	è¿æ¥æ•° (default 1000)
    -cpu int
      	ä½¿ç”¨çš„CPUæ•°é‡
    -h string
      	è¯·æ±‚å¤´ï¼Œåˆ†å‰²æŒ‰ \r\n
    -host string
      	è¯·æ±‚åœ°å€
    -m string
      	è¯·æ±‚æ–¹å¼ (default "GET")
    -n int
      	è¯·æ±‚æ•°é‡ (default 100000)
    -t int
      	http/socks5 è¶…æ—¶æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ (default 3000)
    -proxy string
    	ä»£ç†è¯·æ±‚
    -proxy-transport string
        è¯·æ±‚çš„ä»£ç†ä¼ è¾“, "tcp" or "quic" (default "tcp")
    -quic-protocol string
        quicä¼ è¾“çš„tlsåº”ç”¨åè®® (default "h3")
```

#### å®˜æ–¹ `demo`

```shell script
benchmark -c 1100 -n 1000000  http://127.0.0.1/
benchmark -c 1100 -n 1000000 -proxy http://111:222@127.0.0.1:1235 http://127.0.0.1/
benchmark -c 1100 -n 1000000 -proxy socks5://111:222@127.0.0.1:1235 http://127.0.0.1/
benchmark -c 1100 -n 1000000 -h "Connection: close\r\nCache-Control: no-cache" http://127.0.0.1/
```

### å®æˆ˜

```shell
benchmark -c 100 -n 1000000 -proxy http://username:password@1.1.1.1:56790 https://xingcxb.com
```
