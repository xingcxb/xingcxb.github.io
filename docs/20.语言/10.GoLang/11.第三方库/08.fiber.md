---
title: fiber
date: 2025-04-21 11:46:25
permalink: /language/go/7121dc/
categories:
  - è¯­è¨€
  - GoLang
  - ç¬¬ä¸‰æ–¹åº“
tags:
  - fiber
  - webæ¡†æ¶
  - go
  - go web æ¡†æ¶
  - ä¸å™¨
  - ä¸å™¨å°çª
---

## ğŸª½ `fiber` åº“ç®€ä»‹

`Fiber` æ˜¯ä¸€ä¸ª `Fiber` æ˜¯ä¸€ä¸ªå— `Express` å¯å‘çš„ `Web` æ¡†æ¶ï¼Œå®ƒå»ºç«‹åœ¨ `Fasthttp` ä¹‹ä¸Šï¼Œ `Fasthttp` æ˜¯ `Go` è¯­è¨€ä¸­æœ€å¿«çš„ `HTTP` å¼•æ“ã€‚å…¶è®¾è®¡åˆè¡·æ˜¯ç®€åŒ–å¿«é€Ÿå¼€å‘ï¼Œé›¶å†…å­˜åˆ†é…ï¼Œå¹¶æ³¨é‡æ€§èƒ½ã€‚

> æˆ‘å°è¯•çš„æ˜¯ `Fiber V3` æ˜¯åŸºäº `v3.0.0-beta.4` ç‰ˆæœ¬æ¥çš„

<!-- more -->

<InArticleAdsense
    data-ad-client="ca-pub-1725717718088510"
    data-ad-slot="4281148213">
</InArticleAdsense>

## å¼€æºåœ°å€

[gofiber/fiber](https://github.com/gofiber/fiber)

## æ–‡æ¡£

[gofiber/fiber](https://gofiber.github.io/docs/)

## å¿«é€Ÿä¸Šæ‰‹

### å®‰è£…

```bash
go get github.com/gofiber/fiber/v3
```

### è¿è¡Œ

```Go
import (
	"context"
	"github.com/gofiber/fiber/v3"
	"github.com/spf13/viper"
	"qtps/service/gateway/router"
)

func RunWebService(ctx context.Context) {
	app := fiber.New()
	app.Get("/", func (c *fiber.Ctx) error {
        return c.SendString("Hello, World!")
    })

  log.Fatal(app.Listen(":3000"))
}
```

## å®é™…ä½¿ç”¨è¸©å‘

### å¦‚ä½•ä½¿ç”¨è·¯ç”±

```Go
// BuildRouter æ„å»ºè·¯ç”±
func BuildRouter(ctx context.Context, web *fiber.App) {
	web.Get("/ping", func(c fiber.Ctx) error {
		msg := fmt.Sprintf("âœ‹ %s", c.Params("*"))
		return c.SendString(msg) // => âœ‹ register
	})
	v1Group := web.Group("/v1", middleware.AuthMiddleware)
	v1(ctx, v1Group)
}

// v1ç‰ˆæœ¬
func v1(ctx context.Context, v1Group fiber.Router) {
	v1Group.Get("/api", logic.GetNodeAllInfo)
}
```

```Go
func AuthMiddleware(c fiber.Ctx) error {
	return c.Next()
}
```

### å¦‚ä½•è·å–è¯·æ±‚å‚æ•°

- è·å–å…¨éƒ¨è¯·æ±‚å‚æ•°

  - `c.Queries()` è¯¥æ–¹æ³•è¿”å›çš„ç±»å‹æ˜¯ `map[string]string`

- è·å–å•ä¸ªè¯·æ±‚å‚æ•°

  - `c.Query("key")` è¯¥æ–¹æ³•è¿”å›çš„ç±»å‹æ˜¯ `string`ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨`c.Query("key", "default")` è¯¥æ–¹æ³•è¿”å›çš„ç±»å‹æ˜¯ `string`ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›é»˜è®¤å€¼

- é€šè¿‡ç»“æ„ä½“è·å–è¯·æ±‚å‚æ•°

- ```Go
  type RequestBody struct {
      Username string `form:"username" binding:"required"`
        ...
  }
  app.Post("/v1/api", func(c fiber.Ctx) error {
  var body RequestBody
  if err := c.BodyParser(&body); err != nil {
  	return err
  }
  return c.JSON(body)
  })
  ```
